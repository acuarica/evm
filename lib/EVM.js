!function(t,s){if("object"==typeof exports&&"object"==typeof module)module.exports=s();else if("function"==typeof define&&define.amd)define([],s);else{var e=s();for(var a in e)("object"==typeof exports?exports:t)[a]=e[a]}}(self,(()=>(()=>{"use strict";var t={262:(t,s,e)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ENV=s.CallDataSize=s.CallDataLoad=s.CallValue=void 0;const a=e(800);class n extends((0,a.Tag)("CallValue")){eval(){return this}str(){return"msg.value"}}s.CallValue=n;class i extends((0,a.Tag)("CallDataLoad")){constructor(t){super(),this.location=t}eval(){return this.location=this.location.eval(),this}str(){return this.location.isVal()&&0n===this.location.val?"msg.data":this.location.isVal()&&(this.location.val-4n)%32n===0n?"_arg"+(this.location.val-4n)/32n:`msg.data[${this.location._str(i.prec)}]`}}s.CallDataLoad=i;class r extends((0,a.Tag)("CallDataSize")){eval(){return this}str(){return"msg.data.length"}}s.CallDataSize=r,s.ENV={CALLVALUE:t=>t.push(new n),CALLDATALOAD:t=>{const s=t.pop();t.push(new i(s))},CALLDATASIZE:t=>t.push(new r)}},800:(t,s)=>{function e(t,s=a.prec){class e{constructor(){this.tag=t}isVal(){return"Val"===this.tag}isZero(){return this.isVal()&&0n===this.val}isJumpDest(){return this.isVal()&&null!==this.jumpDest}_str(t){const s=this.str();return e.prec<t?`(${s})`:s}toString(){return this.str()}}return e.prec=s,e}Object.defineProperty(s,"__esModule",{value:!0}),s.Val=s.Bin=s.Tag=void 0,s.Tag=e,s.Bin=function(t,s,a){class n extends(e(t,a)){constructor(t,s){super(),this.left=t,this.right=s}str(){return`${this.left._str(a)} ${s} ${this.right._str(a)}`}}return n};class a extends(e("Val",16)){constructor(t,s=!1){super(),this.val=t,this.isPush=s,this.jumpDest=null}eval(){return this}str(){return`${this.isJumpDest()?"[J]":""}0x${this.val.toString(16)}`}}s.Val=a},173:(t,s,e)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FLOW=s.makeBranch=s.SigCase=s.JumpDest=s.Jumpi=s.Jump=s.Branch=void 0;const a=e(862);class n{constructor(t,s){this.pc=t,this.state=s}get key(){return this.pc}}s.Branch=n;class i{constructor(t,s){this.offset=t,this.destBranch=s,this.name="Jump"}eval(){return this}toString(){return`goto :${this.offset} branch:${this.destBranch.key}`}next(){return[this.destBranch]}}s.Jump=i;class r{constructor(t,s,e,a){this.cond=t,this.offset=s,this.fallBranch=e,this.destBranch=a,this.name="Jumpi",this.evalCond=t.eval()}eval(){return this}toString(){return`when ${this.cond} goto ${this.destBranch.key} or fall ${this.fallBranch.key}`}next(){return this.evalCond.isVal()?0n===this.evalCond.val?[this.fallBranch]:[this.destBranch]:[this.destBranch,this.fallBranch]}}s.Jumpi=r,s.JumpDest=class{constructor(t){this.fallBranch=t,this.name="JumpDest"}eval(){return this}toString(){return`fall: ${this.fallBranch.key}:`}next(){return[this.fallBranch]}};class o{constructor(t,s,e){this.condition=t,this.offset=s,this.fallBranch=e,this.name="SigCase"}eval(){return this}toString(){return`case when ${this.condition} goto ${this.offset} or fall ${this.fallBranch.key}`}next(){return[this.fallBranch]}}function l(t,s){return new n(t,s.clone())}s.SigCase=o,s.makeBranch=l,s.FLOW=function({opcodes:t,jumpdests:s},{functionBranches:e}){return{JUMP:(t,s)=>{const e=s.stack.pop(),a=l(n(e),s);s.halt(new i(e,a))},JUMPI:(t,s)=>{const a=s.stack.pop(),i=s.stack.pop(),h=n(a),c=l(t.pc+1,s);let u;"Sig"===i.tag?(e.set(i.selector,{pc:h,state:s.clone()}),u=new o(i,a,c)):u=new r(i,a,c,l(h,s)),s.halt(u)}};function n(e){const n=e.eval();if(!n.isVal())throw new Error(`Expected numeric offset, found ${e}`);const i=s[Number(n.val)];if(void 0!==i)return e.jumpDest=i,i;{const s=t.find((t=>t.offset===Number(n.val)));if(!s)throw new Error("Expected `JUMPDEST` in JUMP destination, but none was found");throw new Error("JUMP destination should be JUMPDEST but found"+(0,a.formatOpcode)(s))}}}},474:(t,s,e)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.gc=s.EVM=void 0;const a=e(862),n=e(346),i=e(994),r=e(535),o=e(896),l=e(254),h=e(262),c=e(345),u=e(43),p=e(946),v=e(563),d=e(61),f=e(173);function S(t,s){return Object.fromEntries(Object.entries(t).map((([t,e])=>[t,s(e)])))}function g(t){return S(t,(t=>(s,e)=>t(e.stack)))}function m(t){return S(t,(t=>(s,e)=>t(e)))}const P={...g(o.MATH),...g(l.LOGIC),...g(h.ENV),...m(c.SYM),...m(u.MEMORY),JUMPDEST:(t,s)=>{},...S(r.PUSHES,(t=>(s,e)=>t(s.pushData,e.stack))),...g((0,r.STACK)()),...m(p.SYSTEM),PC:p.PC,INVALID:p.INVALID};class w{constructor({opcodes:t,jumpdests:s},e){var n;this.metadata=e,this.chunks=new Map,this.errors=[],this.events={},this.variables={},this.mappings={},this.functionBranches=new Map,this.opcodes=t,this.jumpdests=s,this.insts=(n={...P,...(0,f.FLOW)({opcodes:t,jumpdests:s},this),...m((0,d.STORAGE)(this)),...m((0,v.LOGS)(this))},Object.fromEntries([...Array(256).keys()].map((t=>[t,void 0===a.MNEMONICS[t]?p.INVALID:n[a.MNEMONICS[t]]]))))}static from(t){const[s,e]=(0,i.stripMetadataHash)(t);return new w((0,a.decode)(Buffer.from(s.replace("0x",""),"hex")),e)}start(){this.run(0,new n.State);for(const[,t]of this.functionBranches)this.run(t.pc,t.state)}run(t,s){const e=[new f.Branch(t,s)];for(;e.length>0;){const t=e.shift(),s=this.chunks.get(t.pc);if(void 0!==s&&s.states.length>10)continue;this.exec(t.pc,t.state);const a=t.state.last;if(a.next)for(const t of a.next())e.unshift(t)}}exec(t,s){if(s.halted)throw new Error(`State at ${t} must be non-halted to be \`exec\``);let e=t;const n=this.opcodes.length;for(;!s.halted&&e<n;e++){const t=this.opcodes[e];try{if(this.insts[t.opcode](t,s),!s.halted&&e<n+1&&this.opcodes[e+1].opcode===a.OPCODES.JUMPDEST){const e=(0,f.makeBranch)(t.pc+1,s);s.halt(new f.JumpDest(e))}}catch(e){const a=e.message,n=new p.Invalid(`\`${a}\` at [${t.offset}] ${t.mnemonic} =| ${s.stack.values.slice(0,-1).join(" | ")}`);s.halt(n),this.errors.push(n)}}if(!s.halted)throw new Error(`State must be halted after exec at ${t}:${e}`);let i=this.chunks.get(t);void 0===i?(i={pcend:e,states:[s]},this.chunks.set(t,i)):i.states.push(s)}}function E({stack:t},{stack:s}){if(t.values.length!==s.values.length)return!1;for(let a=0;a<t.values.length;a++)if(!e(t.values[a],s.values[a]))return!1;return!0;function e(t,s){return!(t.isVal()&&t.isPush&&s.isVal()&&s.isPush&&t.val!==s.val)}}s.EVM=w,s.gc=function(t,s){const e=s.get(t.pc);if(void 0!==e)for(const s of e.states)if(E(t.state,s))return s}},563:(t,s,e)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.LOGS=s.Log=s.stringifyEvents=void 0;const a=e(800),n=e(43);s.stringifyEvents=function(t){let s="";for(const[e,a]of Object.entries(t)){if(s+="event ",void 0===a.sig)s+=e;else{const t=a.sig.split("(")[0],e=a.sig.replace(t,"").substring(1).slice(0,-1);e?(s+=t+"(",s+=e.split(",").map(((t,s)=>s<a.indexedCount?`${t} indexed _arg${s}`:`${t} _arg${s}`)).join(", "),s+=")"):s+=a.sig}s+=";\n"}return s};class i{constructor(t,s,e,a){this.event=t,this.topics=s,this.args=e,this.mem=a,this.name="Log"}get eventName(){if(void 0!==this.event&&void 0!==this.event.sig)return this.event.sig.split("(")[0]}eval(){return new i(this.event,this.topics.map((t=>t.eval())),this.args.map((t=>t.eval())),this.mem?{offset:this.mem.offset.eval(),size:this.mem.size.eval()}:void 0)}toString(){return this.eventName?`emit ${this.eventName}(${[...this.topics.slice(1),...this.args].join(", ")});`:"log("+(this.mem?[...this.topics,`memory[${this.mem.offset}:${this.mem.size} ]`].join(", ")+"ii":[...this.topics,...this.args].join(", "))+");"}}function r(t,{events:s}){return({stack:e,memory:r,stmts:o})=>{let l=e.pop(),h=e.pop();const c=[];for(let s=0;s<t;s++)c.push(e.pop());let u;if(c.length>0&&c[0].isVal()){const t=c[0].val.toString(16).padStart(64,"0");u=s[t],void 0===u&&(u={indexedCount:c.length-1},s[t]=u)}l=l.eval(),h=h.eval(),o.push(l.isVal()&&h.isVal()?(()=>{const t=[];for(let s=Number(l.val);s<Number(l.val+h.val);s+=32)t.push(s in r?r[s]:new n.MLoad(new a.Val(BigInt(s))));return new i(u,c,t)})():new i(u,c,[],{offset:l,size:h}))}}s.Log=i,s.LOGS=t=>({LOG0:r(0,t),LOG1:r(1,t),LOG2:r(2,t),LOG3:r(3,t),LOG4:r(4,t)})},254:(t,s,e)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.shift=s.LOGIC=s.Sig=s.Sar=s.Shr=s.Shl=s.Byte=s.Not=s.Xor=s.Or=s.And=s.IsZero=s.Eq=s.Gt=s.Lt=void 0;const a=e(800),n=e(896);function i(t,s){class e extends((0,a.Tag)(t,9)){constructor(t,s,e=!1){super(),this.left=t,this.right=s,this.equal=e}str(){return`${this.left._str(e.prec)} ${this.equal?`${s}=`:`${s}`} ${this.right._str(e.prec)}`}}return e}function r(t,s){class e extends((0,a.Tag)(t,f.prec)){constructor(t,s){super(),this.value=t,this.shift=s}str(){return`${this.value._str(e.prec)} ${s} ${this.shift._str(e.prec)}`}}return e}class o extends(i("Lt","<")){eval(){const t=this.left.eval(),s=this.right.eval();return t.isVal()&&s.isVal()?new a.Val(t.val<s.val?1n:0n):new o(t,s)}}s.Lt=o;class l extends(i("Gt",">")){eval(){const t=this.left.eval(),s=this.right.eval();return t.isVal()&&s.isVal()?new a.Val(t.val>s.val?1n:0n):new l(t,s)}}s.Gt=l;class h extends((0,a.Bin)("Eq","==",8)){eval(){return new h(this.left.eval(),this.right.eval())}}s.Eq=h;class c extends((0,a.Tag)("IsZero",h.prec)){constructor(t){super(),this.value=t}eval(){const t=this.value.eval();return t.isVal()?0n===t.val?new a.Val(1n):new a.Val(0n):"Lt"===t.tag?new l(t.left,t.right,!t.equal):"Gt"===t.tag?new o(t.left,t.right,!t.equal):"IsZero"===t.tag?t.value:new c(t)}str(){return"Eq"===this.value.tag?this.value.left._str(c.prec)+" != "+this.value.right._str(c.prec):this.value._str(c.prec)+" == 0"}}s.IsZero=c;class u extends((0,a.Bin)("And","&&",4)){eval(){const t=this.left.eval(),s=this.right.eval();return t.isVal()&&s.isVal()?new a.Val(t.val&s.val):t.isVal()&&/^[f]+$/.test(t.val.toString(16))?s:s.isVal()&&/^[f]+$/.test(s.val.toString(16))?t:t.isVal()&&"And"===s.tag&&s.left.isVal()&&t.val===s.left.val?s.right:new u(t,s)}}s.And=u;class p extends((0,a.Bin)("Or","||",3)){eval(){const t=this.left.eval(),s=this.right.eval();return t.isVal()&&s.isVal()?new a.Val(t.val|s.val):new p(t,s)}}s.Or=p;class v extends((0,a.Bin)("Xor","^",6)){eval(){const t=this.left.eval(),s=this.right.eval();return t.isVal()&&s.isVal()?new a.Val(t.val^s.val):new v(t,s)}}s.Xor=v;class d extends(function(t,s,e){class n extends((0,a.Tag)("Not",14)){constructor(t){super(),this.value=t}str(){return`~${this.value._str(14)}`}}return n}()){eval(){const t=this.value.eval();return t.isVal()?new a.Val(~t.val):new d(t)}}s.Not=d;class f extends((0,a.Tag)("Byte",10)){constructor(t,s){super(),this.pos=t,this.data=s}eval(){const t=this.pos.eval(),s=this.data.eval();return s.isVal()&&t.isVal()?new a.Val(s.val>>t.val&1n):new f(t,s)}str(){return`(${this.data._str(f.prec)} >> ${this.pos._str(f.prec)}) & 1`}}s.Byte=f;class S extends(r("Shl","<<")){eval(){const t=this.value.eval(),s=this.shift.eval();return t.isVal()&&s.isVal()?new a.Val(t.val<<s.val):new S(t,s)}}s.Shl=S;class g extends(r("Shr",">>>")){eval(){const t=this.value.eval(),s=this.shift.eval();return t.isVal()&&s.isVal()?new a.Val(t.val>>s.val):new g(t,s)}}s.Shr=g;class m extends(r("Sar",">>")){eval(){const t=this.value.eval(),s=this.shift.eval();return t.isVal()&&s.isVal()?new a.Val(t.val>>s.val):new m(t,s)}}s.Sar=m;class P extends((0,a.Tag)("Sig",h.prec)){constructor(t){super(),this.selector=t}eval(){return this}str(){return`msg.sig == ${this.selector}`}}function w(t,s,e){return t.isVal()&&"Shr"===s.tag&&s.shift.isVal()&&0xe0n===s.shift.val&&"CallDataLoad"===s.value.tag&&s.value.location.isZero()?new P(t.val.toString(16).padStart(8,"0")):e()}function E(t,s,e){if(t=t.eval(),s=s.eval(),t.isVal()&&"Div"===s.tag&&s.right.isVal()){const e=t.val*s.right.val;if(s=s.left,e%(1n<<0xe0n)===0n&&"CallDataLoad"===s.tag&&s.location.isZero())return new P(e.toString(16).substring(0,8-(64-e.toString(16).length)).padStart(8,"0"))}return e()}function D(t){return function(s){const e=s.pop(),a=s.pop();s.push(new t(a,e))}}s.Sig=P,s.LOGIC={LT:(0,n.bin)(o),GT:(0,n.bin)(l),SLT:(0,n.bin)(o),SGT:(0,n.bin)(l),EQ:t=>{const s=t.pop(),e=t.pop();t.push(s.isVal()&&e.isVal()?s.val===e.val?new a.Val(1n):new a.Val(0n):function(t,s,e){return E(t,s,(()=>E(s,t,(()=>w(t,s,(()=>w(s,t,e)))))))}(s,e,(()=>new h(s,e))))},ISZERO:t=>{const s=t.pop();t.push(new c(s))},AND:(0,n.bin)(u),OR:(0,n.bin)(p),XOR:(0,n.bin)(v),NOT:t=>{const s=t.pop();t.push(new d(s))},BYTE:t=>{const s=t.pop(),e=t.pop();t.push(new f(s,e))},SHL:D(S),SHR:D(g),SAR:D(m)},s.shift=D},896:(t,s,e)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.bin=s.MATH=s.Exp=s.Mod=s.Div=s.Sub=s.Mul=s.Add=void 0;const a=e(800),n=e(254);class i extends((0,a.Bin)("Add","+",11)){eval(){const t=this.left.eval(),s=this.right.eval();return t.isVal()&&s.isVal()?new a.Val(t.val+s.val):t.isZero()?s:s.isZero()?t:new i(t,s)}}s.Add=i;class r extends((0,a.Bin)("Mul","*",12)){eval(){const t=this.left.eval(),s=this.right.eval();return t.isVal()&&s.isVal()?new a.Val(t.val*s.val):t.isZero()||s.isZero()?new a.Val(0n):new r(t,s)}}s.Mul=r;class o extends((0,a.Bin)("Sub","-",i.prec)){eval(){const t=this.left.eval(),s=this.right.eval();return t.isVal()&&s.isVal()?new a.Val(t.val-s.val):s.isZero()?t:new o(t,s)}}s.Sub=o;class l extends((0,a.Bin)("Div","/",r.prec)){eval(){const t=this.left.eval(),s=this.right.eval();return t.isVal()&&s.isVal()?0n===s.val?new l(t,s):new a.Val(t.val/s.val):s.isVal()&&1n===s.val?t:new l(t,s)}}s.Div=l;class h extends((0,a.Bin)("Mod","%",r.prec)){eval(){const t=this.left.eval(),s=this.right.eval();return t.isVal()&&s.isVal()?new a.Val(t.val%s.val):new h(t,s)}}s.Mod=h;class c extends((0,a.Bin)("Exp","**",14)){eval(){const t=this.left.eval(),s=this.right.eval();return t.isVal()&&s.isVal()&&s.val>=0?new a.Val(t.val**s.val):new c(t,s)}}function u(t){return function(s){const e=s.pop(),a=s.pop();s.push(new t(e,a))}}s.Exp=c,s.MATH={ADD:u(i),MUL:u(r),SUB:u(o),DIV:u(l),SDIV:u(l),MOD:u(h),SMOD:u(h),ADDMOD:t=>{const s=t.pop(),e=t.pop(),n=t.pop();t.push(s.isVal()&&e.isVal()&&n.isVal()?new a.Val((s.val+e.val)%n.val):s.isVal()&&e.isVal()?new h(new a.Val(s.val+e.val),n):new h(new i(s,e),n))},MULMOD:t=>{const s=t.pop(),e=t.pop(),n=t.pop();t.push(s.isVal()&&e.isVal()&&n.isVal()?new a.Val(s.val*e.val%n.val):s.isVal()&&e.isVal()?new h(new a.Val(s.val*e.val),n):new h(new r(s,e),n))},EXP:u(c),SIGNEXTEND:t=>{const s=t.pop(),e=t.pop();t.push(s.isVal()&&e.isVal()?new a.Val(e.val<<32n-s.val>>32n-s.val):s.isVal()?new n.Sar(new n.Shl(e,new a.Val(32n-s.val)),new a.Val(32n-s.val)):new n.Sar(new n.Shl(e,new o(new a.Val(32n),s)),new o(new a.Val(32n),s)))}},s.bin=u},43:(t,s,e)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MEMORY=s.MStore=s.MLoad=void 0;const a=e(800);class n extends((0,a.Tag)("MLoad")){constructor(t){super(),this.loc=t}eval(){return this}str(){return`memory[${this.loc}]`}}s.MLoad=n;class i{constructor(t,s){this.location=t,this.data=s,this.name="MStore"}eval(){return this}toString(){return`memory[${this.location}] = ${this.data};`}}function r({stack:t,memory:s,stmts:e}){let a=t.pop();const n=t.pop();a=a.eval(),a.isVal()?s[Number(a.val)]=n:e.push(new i(a,n))}s.MStore=i,s.MEMORY={MLOAD:({stack:t,memory:s})=>{let e=t.pop();e=e.eval(),t.push(e.isVal()&&Number(e.val)in s?s[Number(e.val)]:new n(e))},MSTORE:r,MSTORE8:r}},535:(t,s,e)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.STACK=s.PUSHES=void 0;const a=e(800),n=e(862);function i(t,s){s.push(new a.Val(BigInt("0x"+(0,n.toHex)(t)),!0))}s.PUSHES={PUSH1:i,PUSH2:i,PUSH3:i,PUSH4:i,PUSH5:i,PUSH6:i,PUSH7:i,PUSH8:i,PUSH9:i,PUSH10:i,PUSH11:i,PUSH12:i,PUSH13:i,PUSH14:i,PUSH15:i,PUSH16:i,PUSH17:i,PUSH18:i,PUSH19:i,PUSH20:i,PUSH21:i,PUSH22:i,PUSH23:i,PUSH24:i,PUSH25:i,PUSH26:i,PUSH27:i,PUSH28:i,PUSH29:i,PUSH30:i,PUSH31:i,PUSH32:i},s.STACK=function(){return{POP:t=>{t.pop()},DUP1:t(0),DUP2:t(1),DUP3:t(2),DUP4:t(3),DUP5:t(4),DUP6:t(5),DUP7:t(6),DUP8:t(7),DUP9:t(8),DUP10:t(9),DUP11:t(10),DUP12:t(11),DUP13:t(12),DUP14:t(13),DUP15:t(14),DUP16:t(15),SWAP1:s(1),SWAP2:s(2),SWAP3:s(3),SWAP4:s(4),SWAP5:s(5),SWAP6:s(6),SWAP7:s(7),SWAP8:s(8),SWAP9:s(9),SWAP10:s(10),SWAP11:s(11),SWAP12:s(12),SWAP13:s(13),SWAP14:s(14),SWAP15:s(15),SWAP16:s(16)};function t(t){return s=>s.dup(t)}function s(t){return s=>s.swap(t)}}},61:(t,s,e)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.STORAGE=s.SLoad=s.MappingLoad=s.SStore=s.MappingStore=s.stringifyMappings=s.stringifyStructs=s.stringifyVariables=s.Variable=void 0;const a=e(800);class n{constructor(t,s){this.label=t,this.types=s}}s.Variable=n,s.stringifyVariables=function(t){let s="";return Object.entries(t).forEach((([t,e],a)=>{const n=e.types.map((t=>t.eval())).map((t=>t.isVal()?"bigint":"???expr.type")).filter((t=>""!==t.trim()));0===n.length&&n.push("unknown");const i=e.label?` public ${e.label}`:` var${a+1}`;s+=[...new Set(n)].join("|")+i+"; // #"+t,s+="\n"})),Object.keys(t).length>0&&(s+="\n"),s},s.stringifyStructs=function(t){let s="";return Object.keys(t).filter((s=>t[s].structs.length>0)).forEach((e=>{const a=t[e];s+=`struct ${a.name}Struct {\n`,a.structs.forEach((t=>{s+=`    ${t.toString()};\n`})),s+="}\n\n"})),s},s.stringifyMappings=function(t){let s="";return Object.keys(t).forEach(((a,n)=>{const i=t[a];i.name?s+=e(i)+" public "+i.name+";":s+=e(i)+` mapping${n+1};`,s+="\n"})),Object.keys(t).length>0&&(s+="\n"),s;function e(t){const s=[],a=[];let n=!1;return t.keys.filter((t=>t.length>0)).forEach((i=>{const r=i[0];i.length>0&&r.type&&!s.includes(r.type)&&s.push(r.type),i.length>1&&!n?(n=!0,a.push(e({name:t.name,structs:t.structs,keys:t.keys.map((t=>(t.shift(),t))),values:t.values}))):1!==i.length||n||t.values.forEach((t=>{t.type&&!a.includes(t.type)&&a.push(t.type)}))})),0===s.length&&s.push("unknown"),t.structs.length>0&&0===a.length?a.push(`${t.name}Struct`):0===a.length&&a.push("unknown"),"mapping ("+s.join("|")+" => "+a.join("|")+")"}};class i{constructor(t,s,e,a,n){this.mappings=t,this.location=s,this.items=e,this.data=a,this.structlocation=n,this.name="MappingStore";const i=s;i in t||(t[i]={name:void 0,structs:[],keys:[],values:[]}),t[i].keys.push(e),void 0===n&&t[i].values.push(a)}eval(){return this}toString(){let t=`mapping${this.location+1}`;return this.location in this.mappings&&this.mappings[this.location].name&&(t=this.mappings[this.location].name),"Add"===this.data.tag&&"MappingLoad"===this.data.right.tag&&this.data.right.location===this.location?t+this.items.map((t=>"["+t.str()+"]")).join("")+" += "+this.data.left.str()+";":"Add"===this.data.tag&&"MappingLoad"===this.data.left.tag&&this.data.left.location===this.location?t+this.items.map((t=>"["+t.str()+"]")).join("")+" += "+this.data.right.str()+";":"Sub"===this.data.tag&&"MappingLoad"===this.data.left.tag&&this.data.left.location===this.location?t+this.items.map((t=>"["+t.str()+"]")).join("")+" -= "+this.data.right.str()+";":t+this.items.map((t=>`[${t.str()}]`)).join("")+" = "+this.data.str()+";"}}s.MappingStore=i;class r{constructor(t,s,e){this.location=t,this.data=s,this.variables=e,this.name="SStore"}eval(){return new r(this.location.eval(),this.data.eval(),this.variables)}toString(){let t="storage["+this.location.str()+"]";if(this.location.isVal()&&this.location.val.toString()in this.variables){const s=this.location.val.toString();t=this.variables[s].label||`var${Object.keys(this.variables).indexOf(s)+1}`}return"Add"===this.data.tag&&"SLoad"===this.data.left.tag&&this.data.left.location.str()===this.location.str()?t+" += "+this.data.right.str()+";":"Sub"===this.data.tag&&"SLoad"===this.data.left.tag&&this.data.left.location.str()===this.location.str()?t+" -= "+this.data.right.str()+";":t+" = "+this.data.str()+";"}}s.SStore=r;class o extends((0,a.Tag)("MappingLoad")){constructor(t,s,e,a){super(),this.mappings=t,this.location=s,this.items=e,this.structlocation=a,s in t||(t[s]={name:void 0,structs:[],keys:[],values:[]}),t[s].keys.push(e)}eval(){return this}str(){let t=`mapping${this.location+1}`;const s=this.mappings[this.location].name;return this.location in this.mappings&&s&&(t=s),this.structlocation?t+this.items.map((t=>`[${t.str()}]`)).join("")+"["+this.structlocation.toString()+"]":t+this.items.map((t=>"["+t.str()+"]")).join("")}}s.MappingLoad=o;class l extends((0,a.Tag)("SLoad")){constructor(t,s){super(),this.location=t,this.variables=s}eval(){return new l(this.location.eval(),this.variables)}str(){if(this.location.isVal()&&this.location.val.toString()in this.variables){const t=this.location.val.toString();return this.variables[t].label||`var${Object.keys(this.variables).indexOf(t)+1}`}return"storage["+this.location.str()+"]"}}function h(t){const s=[t],e=[];let a;for(;s.length>0;){const t=s.shift();for(const n of t.args)"Sha3"===n.tag&&n.args?s.unshift(n):void 0===a&&"Val"===n.tag?a=Number(n.val):e.unshift(n)}return[a,e]}s.SLoad=l,s.STORAGE=({variables:t,mappings:s})=>({SLOAD:({stack:e})=>{const a=e.pop();if("Sha3"===a.tag){const[n,i]=h(a);void 0!==n&&i.length>0?e.push(new o(s,n,i)):e.push(new l(a,t))}else if("Add"===a.tag&&"Sha3"===a.left.tag&&a.right.isVal()){const[n,i]=h(a.left);void 0!==n&&i.length>0?e.push(new o(s,n,i,a.right.val)):e.push(new l(a,t))}else if("Add"===a.tag&&a.left.isVal()&&"Sha3"===a.right.tag){const[n,i]=h(a.right);void 0!==n&&i.length>0?e.push(new o(s,n,i,a.left.val)):e.push(new l(a,t))}else e.push(new l(a,t))},SSTORE:({stack:e,stmts:a})=>{const o=e.pop(),l=e.pop();if(o.isVal())c();else if("Sha3"===o.tag){const[t,e]=h(o);void 0!==t&&e.length>0?a.push(new i(s,t,e,l)):c()}else if("Add"===o.tag&&"Sha3"===o.left.tag&&o.right.isVal()){const[t,e]=h(o.left);void 0!==t&&e.length>0?a.push(new i(s,t,e,l,o.right.val)):c()}else if("Add"===o.tag&&o.left.isVal()&&"Sha3"===o.right.tag){const[t,e]=h(o.right);void 0!==t&&e.length>0?a.push(new i(s,t,e,l,o.left.val)):c()}else c();function c(){if(o.isVal()){const s=o.val.toString();s in t?t[s].types.push(l):t[s]=new n(void 0,[l])}a.push(new r(o,l,t))}}})},345:(t,s,e)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.datacopy=s.SYM=s.DataCopy=s.Symbol1=s.Symbol0=s.INFO=void 0;const a=e(800);s.INFO={ADDRESS:"this",ORIGIN:"tx.origin",CALLER:"msg.sender",CODESIZE:"this.code.length",GASPRICE:"tx.gasprice",RETURNDATASIZE:"output.length",COINBASE:"block.coinbase",TIMESTAMP:"block.timestamp",NUMBER:"block.number",DIFFICULTY:"block.difficulty",GASLIMIT:"block.gaslimit",CHAINID:"chainid",SELFBALANCE:"self.balance",MSIZE:"memory.length",GAS:"gasleft()"};class n extends((0,a.Tag)("Symbol0")){constructor(t,s){super(),this.symbol=t,this.type2=s}eval(){return this}str(){return this.symbol}}s.Symbol0=n;class i extends((0,a.Tag)("Symbol1")){constructor(t,s){super(),this.fn=t,this.value=s}eval(){return new i(this.fn,this.value.eval())}str(){return this.fn(this.value._str(a.Val.prec))}}s.Symbol1=i;class r extends((0,a.Tag)("DataCopy")){constructor(t,s,e){super(),this.fn=t,this.offset=s,this.size=e}eval(){return this}str(){return this.fn(this.offset.str(),this.size.str())}}function o(t,s){return({stack:e})=>{e.push(new n(t,s))}}function l(t){return({stack:s})=>{const e=s.pop();s.push(new i(t,e))}}function h(t){return({stack:s,memory:e})=>{const a=s.pop(),n=s.pop(),i=s.pop();a.isVal()&&(e[Number(a.val)]=new r(t,n,i))}}s.DataCopy=r,s.SYM={...Object.fromEntries(Object.entries(s.INFO).map((([t,s])=>[t,o(s)]))),BALANCE:l((t=>`${t}.balance`)),CALLDATACOPY:h(((t,s)=>`msg.data[${t}:(${t}+${s})];`)),CODECOPY:h(((t,s)=>`this.code[${t}:(${t}+${s})]`)),EXTCODESIZE:l((t=>`address(${t}).code.length`)),EXTCODECOPY:({stack:t})=>{const s=t.pop();h(((t,e)=>`address(${s.str()}).code[${t}:(${t}+${e})]`))},RETURNDATACOPY:h(((t,s)=>`output[${t}:(${t}+${s})]`)),EXTCODEHASH:l((t=>`keccak256(address(${t}).code)`)),BLOCKHASH:l((t=>`blockhash(${t})`))},s.datacopy=h},946:(t,s,e)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.INVALID=s.PC=s.SYSTEM=s.memArgs=s.SelfDestruct=s.Invalid=s.Revert=s.Return=s.Stop=s.DelegateCall=s.StaticCall=s.Create2=s.CallCode=s.ReturnData=s.Call=s.Create=s.Sha3=void 0;const a=e(800),n=e(43);class i extends((0,a.Tag)("Sha3")){constructor(t,s,e){super(),this.args=t,this.memoryStart=s,this.memoryLength=e}eval(){return new i(this.args.map((t=>t.eval())),this.memoryStart,this.memoryLength)}str(){return this.memoryStart&&this.memoryLength?`keccak256(memory[${this.memoryStart}:(${this.memoryStart}+${this.memoryLength})])`:`keccak256(${this.args.join(", ")})`}}s.Sha3=i;class r extends((0,a.Tag)("Create")){constructor(t,s,e){super(),this.value=t,this.offset=s,this.size=e,this.type="address"}eval(){return this}str(){return`new Contract(memory[${this.offset}..${this.offset}+${this.size}]).value(${this.value}).address`}}s.Create=r;class o extends((0,a.Tag)("Call")){constructor(t,s,e,a,n,i,r){super(),this.gas=t,this.address=s,this.value=e,this.memoryStart=a,this.memoryLength=n,this.outputStart=i,this.outputLength=r,this.throwOnFail=!1}eval(){return this}str(){return this.memoryLength.isZero()&&this.outputLength.isZero()?"Mul"===this.gas.tag&&this.gas.left.isZero()&&this.gas.right.isVal()&&2300n===this.gas.right.val?this.throwOnFail?`address(${this.address}).transfer(${this.value})`:`address(${this.address}).send(${this.value})`:`address(${this.address}).call.gas(${this.gas}).value(${this.value})`:`call(${this.gas},${this.address},${this.value},${this.memoryStart},${this.memoryLength},${this.outputStart},${this.outputLength})`}}s.Call=o;class l extends((0,a.Tag)("ReturnData")){constructor(t,s){super(),this.retOffset=t,this.retSize=s,this.name="ReturnData",this.wrapped=!1}eval(){return this}str(){return`output:ReturnData:${this.retOffset}:${this.retSize}`}}s.ReturnData=l;class h extends((0,a.Tag)("CallCode")){constructor(t,s,e,a,n,i,r){super(),this.gas=t,this.address=s,this.value=e,this.memoryStart=a,this.memoryLength=n,this.outputStart=i,this.outputLength=r,this.name="CallCode"}eval(){return this}str(){return`callcode(${this.gas},${this.address},${this.value},${this.memoryStart},${this.memoryLength},${this.outputStart},${this.outputLength})`}}s.CallCode=h;class c extends((0,a.Tag)("Create2")){constructor(t,s,e){super(),this.offset=t,this.size=s,this.value=e}eval(){return this}str(){return`new Contract(memory[${this.offset}:(${this.offset}+${this.size})]).value(${this.value}).address`}}s.Create2=c;class u extends((0,a.Tag)("StaticCall")){constructor(t,s,e,a,n,i){super(),this.gas=t,this.address=s,this.memoryStart=e,this.memoryLength=a,this.outputStart=n,this.outputLength=i}eval(){return this}str(){return`staticcall(${this.gas},${this.address},${this.memoryStart},${this.memoryLength},${this.outputStart},${this.outputLength})`}}s.StaticCall=u;class p extends((0,a.Tag)("DelegateCall")){constructor(t,s,e,a,n,i){super(),this.gas=t,this.address=s,this.memoryStart=e,this.memoryLength=a,this.outputStart=n,this.outputLength=i}eval(){return this}str(){return`delegatecall(${this.gas},${this.address},${this.memoryStart},${this.memoryLength},${this.outputStart},${this.outputLength})`}}s.DelegateCall=p;class v{constructor(){this.name="Stop"}eval(){return this}toString(){return"return;"}}s.Stop=v;class d{constructor(t,s,e){this.args=t,this.offset=s,this.size=e,this.name="Return"}eval(){return this}toString(){return this.offset&&this.size?`return memory[${this.offset}:(${this.offset}+${this.size})];`:0===this.args.length?"return;":3===(t=this.args).length&&t.every((t=>t.isVal()))&&32n===this.args[0].val?`return '${function(t){let s="";for(let e=0;e<t.length&&"00"!==t.slice(e,e+2);e+=2)s+=String.fromCharCode(parseInt(t.substring(e,e+2),16));return s}(this.args[2].val.toString(16))}';`:1===this.args.length?`return ${this.args[0]};`:`return (${this.args.join(", ")});`;var t}}s.Return=d;class f{constructor(t,s,e){this.args=t,this.offset=s,this.size=e,this.name="Revert"}eval(){return this}toString(){return this.offset&&this.size?`revert(memory[${this.offset}:(${this.offset}+${this.size})]);`:`revert(${this.args.join(", ")});`}}s.Revert=f;class S{constructor(t){this.reason=t,this.name="Invalid"}eval(){return this}toString(){return`revert('${this.reason}');`}}s.Invalid=S;class g{constructor(t){this.address=t,this.name="SelfDestruct"}eval(){return this}toString(){return`selfdestruct(${this.address});`}}function m({stack:t,memory:s},e){let i=t.pop(),r=t.pop();if(i=i.eval(),r=r.eval(),i.isVal()&&r.isVal()&&r.val<=32768){const t=[];for(let e=Number(i.val);e<Number(i.val+r.val);e+=32)t.push(e in s?s[e].eval():new n.MLoad(new a.Val(BigInt(e))));return new e(t)}if(r.isVal()&&r.val>32768)throw new Error(`memargs size${e.toString()}${r.val}`);return new e([],i,r)}s.SelfDestruct=g,s.memArgs=m,s.SYSTEM={SHA3:t=>t.stack.push(m(t,i)),STOP:t=>t.halt(new v),CREATE:({stack:t})=>{const s=t.pop(),e=t.pop(),a=t.pop();t.push(new r(s,e,a))},CALL:({stack:t,memory:s})=>{const e=t.pop(),a=t.pop(),n=t.pop(),i=t.pop(),r=t.pop(),h=t.pop(),c=t.pop();t.push(new o(e,a,n,i,r,h,c)),s[h]=new l(h,c)},CALLCODE:({stack:t})=>{const s=t.pop(),e=t.pop(),a=t.pop(),n=t.pop(),i=t.pop(),r=t.pop(),o=t.pop();t.push(new h(s,e,a,n,i,r,o))},RETURN:t=>t.halt(m(t,d)),DELEGATECALL:({stack:t})=>{const s=t.pop(),e=t.pop(),a=t.pop(),n=t.pop(),i=t.pop(),r=t.pop();t.push(new p(s,e,a,n,i,r))},CREATE2:({stack:t})=>{const s=t.pop(),e=t.pop(),a=t.pop();t.push(new c(e,a,s))},STATICCALL:({stack:t})=>{const s=t.pop(),e=t.pop(),a=t.pop(),n=t.pop(),i=t.pop(),r=t.pop();t.push(new u(s,e,a,n,i,r))},REVERT:t=>t.halt(m(t,f)),SELFDESTRUCT:t=>{const s=t.stack.pop();t.halt(new g(s))}},s.PC=(t,{stack:s})=>s.push(new a.Val(BigInt(t.offset))),s.INVALID=(t,s)=>{s.halt(new S(`Invalid instruction (0x${t.opcode.toString(16)})`))}},994:(t,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.stripMetadataHash=s.Metadata=void 0;const e="736f6c63",a=[[new RegExp("a165627a7a72305820([a-f0-9]{64})0029$"),"bzzr"],[new RegExp(`a265627a7a72315820([a-f0-9]{64})64${e}43([a-f0-9]{6})0032$`),"bzzr"],[new RegExp(`a264697066735822([a-f0-9]{68})64${e}43([a-f0-9]{6})0033$`),"ipfs"]];class n{constructor(t,s,e){this.protocol=t,this.hash=s,this.solc=e}get url(){return`${this.protocol}://${this.hash}`}}s.Metadata=n,s.stripMetadataHash=function(t){for(const[e,i]of a){const a=t.match(e);if(a&&a[1])return[t.substring(0,a.index),new n(i,a[1],a[2]?s(a[2]):"<0.5.9")]}return[t,void 0];function s(t){const s=s=>parseInt(t.slice(s,s+2),16).toString();return`${s(0)}.${s(2)}.${s(4)}`}}},862:(t,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.toHex=s.formatOpcode=s.decode=s.MNEMONICS=s.OPCODES=void 0;const e={PUSH1:96,PUSH2:97,PUSH3:98,PUSH4:99,PUSH5:100,PUSH6:101,PUSH7:102,PUSH8:103,PUSH9:104,PUSH10:105,PUSH11:106,PUSH12:107,PUSH13:108,PUSH14:109,PUSH15:110,PUSH16:111,PUSH17:112,PUSH18:113,PUSH19:114,PUSH20:115,PUSH21:116,PUSH22:117,PUSH23:118,PUSH24:119,PUSH25:120,PUSH26:121,PUSH27:122,PUSH28:123,PUSH29:124,PUSH30:125,PUSH31:126,PUSH32:127};function a(t){return t.reduce(((t,s)=>t+s.toString(16).padStart(2,"0")),"")}s.OPCODES={STOP:0,ADD:1,MUL:2,SUB:3,DIV:4,SDIV:5,MOD:6,SMOD:7,ADDMOD:8,MULMOD:9,EXP:10,SIGNEXTEND:11,LT:16,GT:17,SLT:18,SGT:19,EQ:20,ISZERO:21,AND:22,OR:23,XOR:24,NOT:25,BYTE:26,SHL:27,SHR:28,SAR:29,SHA3:32,ADDRESS:48,BALANCE:49,ORIGIN:50,CALLER:51,CALLVALUE:52,CALLDATALOAD:53,CALLDATASIZE:54,CALLDATACOPY:55,CODESIZE:56,CODECOPY:57,GASPRICE:58,EXTCODESIZE:59,EXTCODECOPY:60,RETURNDATASIZE:61,RETURNDATACOPY:62,EXTCODEHASH:63,BLOCKHASH:64,COINBASE:65,TIMESTAMP:66,NUMBER:67,DIFFICULTY:68,GASLIMIT:69,CHAINID:70,SELFBALANCE:71,POP:80,MLOAD:81,MSTORE:82,MSTORE8:83,SLOAD:84,SSTORE:85,JUMP:86,JUMPI:87,PC:88,MSIZE:89,GAS:90,JUMPDEST:91,...e,DUP1:128,DUP2:129,DUP3:130,DUP4:131,DUP5:132,DUP6:133,DUP7:134,DUP8:135,DUP9:136,DUP10:137,DUP11:138,DUP12:139,DUP13:140,DUP14:141,DUP15:142,DUP16:143,SWAP1:144,SWAP2:145,SWAP3:146,SWAP4:147,SWAP5:148,SWAP6:149,SWAP7:150,SWAP8:151,SWAP9:152,SWAP10:153,SWAP11:154,SWAP12:155,SWAP13:156,SWAP14:157,SWAP15:158,SWAP16:159,LOG0:160,LOG1:161,LOG2:162,LOG3:163,LOG4:164,CREATE:240,CALL:241,CALLCODE:242,RETURN:243,DELEGATECALL:244,CREATE2:245,STATICCALL:250,REVERT:253,INVALID:254,SELFDESTRUCT:255},s.MNEMONICS=Object.fromEntries(Object.entries(s.OPCODES).map((([t,s])=>[s,t]))),s.decode=function(t){const a=[],n={};for(let e=0;e<t.length;e++){const r=t[e],o=s.MNEMONICS[r]??"INVALID";"JUMPDEST"===o&&(n[e]=a.length),a.push({offset:e,pc:a.length,opcode:r,...i(o)?{mnemonic:o,pushData:(()=>{const a=r-s.OPCODES.PUSH1+1,n=t.subarray(e+1,e+a+1);return e+=a,n})()}:{mnemonic:o,pushData:null}})}return{opcodes:a,jumpdests:n};function i(t){return t in e}},s.formatOpcode=function(t){const s=t.offset.toString().padStart(4," ").toUpperCase(),e=t.pc.toString().padStart(4," ").toUpperCase(),n=t.pushData?` 0x${a(t.pushData)} (${parseInt(a(t.pushData),16)})`:"";return`${e}:${s}    ${t.mnemonic}${n}`},s.toHex=a},346:(t,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.State=s.Stack=void 0;class e{constructor(){this.values=[]}push(t){if(this.values.length>=1024)throw new e.Error("Stack too deep");this.values.unshift(t)}pop(){if(0===this.values.length)throw new e.Error("POP with empty stack");return this.values.shift()}dup(t){if(t<0||t>15)throw new e.Error("Unsupported position for duplication operation");if(!(t in this.values))throw new e.Error("Invalid duplication operation, position was not found");this.push(this.values[t])}swap(t){if(t<1||t>16)throw new e.Error("Unsupported position for swap operation");if(!(t in this.values))throw new e.Error("Invalid swap operation, position was not found");const s=this.values[0],a=this.values[t];this.values[0]=a,this.values[t]=s}clone(){const t=new e;return t.values.push(...this.values),t}}s.Stack=e,e.Error=class extends Error{constructor(t){super(t),this.name="Stack.Error"}};class a{constructor(t=new e,s={}){this.stack=t,this.memory=s,this._halted=!1,this.stmts=[]}get halted(){return this._halted}get last(){return this.stmts.at(-1)}halt(t){this.stmts.push(t),this._halted=!0}clone(){return new a(this.stack.clone(),{...this.memory})}}s.State=a}},s={};function e(a){var n=s[a];if(void 0!==n)return n.exports;var i=s[a]={exports:{}};return t[a](i,i.exports,e),i.exports}var a={};return(()=>{var t=a;Object.defineProperty(t,"__esModule",{value:!0}),t.stringify=t.build=t.PublicFunction=t.Require=t.isRevertBlock=t.CallSite=t.If=t.Contract=void 0;const s=e(254),n=e(346),i=e(474),r=e(563),o=e(61),l=e(862);t.Contract=class{constructor(t){this.functions={},this.evm=i.EVM.from(t);const s=new n.State;this.evm.run(0,s),this.main=d(s);for(const[t,s]of this.evm.functionBranches)this.evm.run(s.pc,s.state),this.functions[t]=new v(d(s.state),t)}get metadata(){return this.evm.metadata}getFunctions(){return Object.values(this.functions).flatMap((t=>void 0===t.label?[]:[t.label]))}isERC165(){return this.evm.functionBranches.has("01ffc9a7")}decompile(){let t="";t+=(0,r.stringifyEvents)(this.evm.events),t+=(0,o.stringifyStructs)(this.evm.mappings),t+=(0,o.stringifyMappings)(this.evm.mappings),t+=(0,o.stringifyVariables)(this.evm.variables),t+=f(this.main);for(const[,s]of Object.entries(this.functions))t+=S(s);return t}containsOpcode(t){const s=[l.OPCODES.STOP,l.OPCODES.RETURN,l.OPCODES.REVERT,l.OPCODES.INVALID,l.OPCODES.SELFDESTRUCT];let e=!1;if("string"==typeof t&&t in l.OPCODES)t=l.OPCODES[t];else if("string"==typeof t)throw new Error("Invalid opcode provided");for(let a=0;a<this.evm.opcodes.length;a++){const n=this.evm.opcodes[a].opcode;if(n===t&&!e)return!0;n===l.OPCODES.JUMPDEST?e=!1:s.includes(n)&&(e=!0)}return!1}};class h{constructor(t,s,e){this.condition=t,this.trueBlock=s,this.falseBlock=e,this.name="If"}toString(){return`(${this.condition})`}}t.If=h;class c{constructor(t){this.selector=t,this.name="CallSite"}toString(){return`$${this.selector}();`}}function u(t){return 1===t.length&&"name"in t[0]&&"Revert"===t[0].name}t.CallSite=c,t.isRevertBlock=u;class p{constructor(t,s){this.condition=t,this.args=s,this.name="Require"}toString(){return`require(${this.condition}, ${this.args.join(", ")});`}}t.Require=p;class v{constructor(t,s){this.stmts=t,this.selector=s,this.label=void 0,this.returns=[],this.payable=!0,this.visibility="public",this.constant=!1,this.returns=[],this.stmts.length>0&&this.stmts[0]instanceof p&&"IsZero"===this.stmts[0].condition.tag&&"CallValue"===this.stmts[0].condition.value.tag&&(this.payable=!1,this.stmts.shift()),1===this.stmts.length&&"Return"===this.stmts[0].name&&(this.constant=!0)}}function d(t){const e=new WeakSet;return function t(a){if(e.has(a))return[];e.add(a);const n=a.last;if(void 0===n)return[];for(let t=0;t<a.stmts.length;t++)a.stmts[t]=a.stmts[t].eval();switch(n.name){case"Jumpi":{if(n.evalCond.isVal())return 0n===n.evalCond.val?[...a.stmts.slice(0,-1),...t(n.fallBranch.state)]:[...a.stmts.slice(0,-1),...t(n.destBranch.state)];const e=t(n.destBranch.state),i=t(n.fallBranch.state);return[...a.stmts.slice(0,-1),...u(i)?[new p(n.cond.eval(),i[0].args.map((t=>t.eval()))),...e]:[new h(new s.Not(n.cond),i),...e]]}case"SigCase":{const s=t(n.fallBranch.state);return[...a.stmts.slice(0,-1),new h(n.condition,[new c(n.condition.selector)],s)]}case"Jump":return[...a.stmts.slice(0,-1),...t(n.destBranch.state)];case"JumpDest":return[...a.stmts.slice(0,-1),...t(n.fallBranch.state)];default:return a.stmts}}(t)}function f(t,s=0){let e="";for(const a of t)if(a instanceof h){const t=a.toString();e+=" ".repeat(s)+"if "+t+" {\n",e+=f(a.trueBlock,s+4),a.falseBlock&&(e+=" ".repeat(s)+"} else {\n",e+=f(a.falseBlock,s+4)),e+=" ".repeat(s)+"}\n"}else e+=" ".repeat(s)+a.toString()+"\n";return e}function S(t){let s="";if(s+="function ",void 0!==t.label){const e=t.label,a=e.split("(")[0],n=e.replace(a,"").substring(1).slice(0,-1);n?(s+=a+"(",s+=n.split(",").map(((t,s)=>`${t} _arg${s}`)).join(", "),s+=")"):s+=e}else s+=t.selector+"()";return s+=" "+t.visibility,t.constant&&(s+=" view"),t.payable&&(s+=" payable"),t.returns.length>0&&(s+=` returns (${t.returns.join(", ")})`),s+=" {\n",s+=f(t.stmts,4),s+="}\n\n",s}t.PublicFunction=v,t.build=d,t.stringify=f})(),a})()));
//# sourceMappingURL=EVM.js.map