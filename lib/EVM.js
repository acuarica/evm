!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var s=e();for(var i in s)("object"==typeof exports?exports:t)[i]=s[i]}}(self,(()=>(()=>{"use strict";var t={466:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.POP=e.GASLIMIT=e.DIFFICULTY=e.NUMBER=e.TIMESTAMP=e.COINBASE=e.BLOCKHASH=e.EXTCODEHASH=e.RETURNDATACOPY=e.RETURNDATASIZE=e.EXTCODECOPY=e.EXTCODESIZE=e.GASPRICE=e.CODECOPY=e.CODESIZE=e.CALLDATACOPY=e.CALLDATASIZE=e.CALLDATALOAD=e.CALLVALUE=e.CALLER=e.ORIGIN=e.BALANCE=e.ADDRESS=e.SHA3=e.SAR=e.SHR=e.SHL=e.BYTE=e.NOT=e.XOR=e.OR=e.AND=e.ISZERO=e.EQ=e.SGT=e.SLT=e.GT=e.LT=e.SIGNEXTEND=e.EXP=e.MULMOD=e.ADDMOD=e.SMOD=e.MOD=e.SDIV=e.DIV=e.SUB=e.MUL=e.ADD=e.STOP=void 0,e.DUP7=e.DUP6=e.DUP5=e.DUP4=e.DUP3=e.DUP2=e.DUP1=e.PUSH32=e.PUSH31=e.PUSH30=e.PUSH29=e.PUSH28=e.PUSH27=e.PUSH26=e.PUSH25=e.PUSH24=e.PUSH23=e.PUSH22=e.PUSH21=e.PUSH20=e.PUSH19=e.PUSH18=e.PUSH17=e.PUSH16=e.PUSH15=e.PUSH14=e.PUSH13=e.PUSH12=e.PUSH11=e.PUSH10=e.PUSH9=e.PUSH8=e.PUSH7=e.PUSH6=e.PUSH5=e.PUSH4=e.PUSH3=e.PUSH2=e.PUSH1=e.JUMPDEST=e.GAS=e.MSIZE=e.PC=e.JUMPI=e.JUMP=e.SSTORE=e.SLOAD=e.MSTORE8=e.MSTORE=e.MLOAD=void 0,e.names=e.codes=e.SELFDESTRUCT=e.INVALID=e.REVERT=e.STATICCALL=e.CREATE2=e.DELEGATECALL=e.RETURN=e.CALLCODE=e.CALL=e.CREATE=e.LOG4=e.LOG3=e.LOG2=e.LOG1=e.LOG0=e.SWAP16=e.SWAP15=e.SWAP14=e.SWAP13=e.SWAP12=e.SWAP11=e.SWAP10=e.SWAP9=e.SWAP8=e.SWAP7=e.SWAP6=e.SWAP5=e.SWAP4=e.SWAP3=e.SWAP2=e.SWAP1=e.DUP16=e.DUP15=e.DUP14=e.DUP13=e.DUP12=e.DUP11=e.DUP10=e.DUP9=e.DUP8=void 0,e.STOP=0,e.ADD=1,e.MUL=2,e.SUB=3,e.DIV=4,e.SDIV=5,e.MOD=6,e.SMOD=7,e.ADDMOD=8,e.MULMOD=9,e.EXP=10,e.SIGNEXTEND=11,e.LT=16,e.GT=17,e.SLT=18,e.SGT=19,e.EQ=20,e.ISZERO=21,e.AND=22,e.OR=23,e.XOR=24,e.NOT=25,e.BYTE=26,e.SHL=27,e.SHR=28,e.SAR=29,e.SHA3=32,e.ADDRESS=48,e.BALANCE=49,e.ORIGIN=50,e.CALLER=51,e.CALLVALUE=52,e.CALLDATALOAD=53,e.CALLDATASIZE=54,e.CALLDATACOPY=55,e.CODESIZE=56,e.CODECOPY=57,e.GASPRICE=58,e.EXTCODESIZE=59,e.EXTCODECOPY=60,e.RETURNDATASIZE=61,e.RETURNDATACOPY=62,e.EXTCODEHASH=63,e.BLOCKHASH=64,e.COINBASE=65,e.TIMESTAMP=66,e.NUMBER=67,e.DIFFICULTY=68,e.GASLIMIT=69,e.POP=80,e.MLOAD=81,e.MSTORE=82,e.MSTORE8=83,e.SLOAD=84,e.SSTORE=85,e.JUMP=86,e.JUMPI=87,e.PC=88,e.MSIZE=89,e.GAS=90,e.JUMPDEST=91,e.PUSH1=96,e.PUSH2=97,e.PUSH3=98,e.PUSH4=99,e.PUSH5=100,e.PUSH6=101,e.PUSH7=102,e.PUSH8=103,e.PUSH9=104,e.PUSH10=105,e.PUSH11=106,e.PUSH12=107,e.PUSH13=108,e.PUSH14=109,e.PUSH15=110,e.PUSH16=111,e.PUSH17=112,e.PUSH18=113,e.PUSH19=114,e.PUSH20=115,e.PUSH21=116,e.PUSH22=117,e.PUSH23=118,e.PUSH24=119,e.PUSH25=120,e.PUSH26=121,e.PUSH27=122,e.PUSH28=123,e.PUSH29=124,e.PUSH30=125,e.PUSH31=126,e.PUSH32=127,e.DUP1=128,e.DUP2=129,e.DUP3=130,e.DUP4=131,e.DUP5=132,e.DUP6=133,e.DUP7=134,e.DUP8=135,e.DUP9=136,e.DUP10=137,e.DUP11=138,e.DUP12=139,e.DUP13=140,e.DUP14=141,e.DUP15=142,e.DUP16=143,e.SWAP1=144,e.SWAP2=145,e.SWAP3=146,e.SWAP4=147,e.SWAP5=148,e.SWAP6=149,e.SWAP7=150,e.SWAP8=151,e.SWAP9=152,e.SWAP10=153,e.SWAP11=154,e.SWAP12=155,e.SWAP13=156,e.SWAP14=157,e.SWAP15=158,e.SWAP16=159,e.LOG0=160,e.LOG1=161,e.LOG2=162,e.LOG3=163,e.LOG4=164,e.CREATE=240,e.CALL=241,e.CALLCODE=242,e.RETURN=243,e.DELEGATECALL=244,e.CREATE2=245,e.STATICCALL=250,e.REVERT=253,e.INVALID=254,e.SELFDESTRUCT=255,e.codes={0:"STOP",1:"ADD",2:"MUL",3:"SUB",4:"DIV",5:"SDIV",6:"MOD",7:"SMOD",8:"ADDMOD",9:"MULMOD",10:"EXP",11:"SIGNEXTEND",16:"LT",17:"GT",18:"SLT",19:"SGT",20:"EQ",21:"ISZERO",22:"AND",23:"OR",24:"XOR",25:"NOT",26:"BYTE",27:"SHL",28:"SHR",29:"SAR",32:"SHA3",48:"ADDRESS",49:"BALANCE",50:"ORIGIN",51:"CALLER",52:"CALLVALUE",53:"CALLDATALOAD",54:"CALLDATASIZE",55:"CALLDATACOPY",56:"CODESIZE",57:"CODECOPY",58:"GASPRICE",59:"EXTCODESIZE",60:"EXTCODECOPY",61:"RETURNDATASIZE",62:"RETURNDATACOPY",63:"EXTCODEHASH",64:"BLOCKHASH",65:"COINBASE",66:"TIMESTAMP",67:"NUMBER",68:"DIFFICULTY",69:"GASLIMIT",80:"POP",81:"MLOAD",82:"MSTORE",83:"MSTORE8",84:"SLOAD",85:"SSTORE",86:"JUMP",87:"JUMPI",88:"PC",89:"MSIZE",90:"GAS",91:"JUMPDEST",96:"PUSH1",97:"PUSH2",98:"PUSH3",99:"PUSH4",100:"PUSH5",101:"PUSH6",102:"PUSH7",103:"PUSH8",104:"PUSH9",105:"PUSH10",106:"PUSH11",107:"PUSH12",108:"PUSH13",109:"PUSH14",110:"PUSH15",111:"PUSH16",112:"PUSH17",113:"PUSH18",114:"PUSH19",115:"PUSH20",116:"PUSH21",117:"PUSH22",118:"PUSH23",119:"PUSH24",120:"PUSH25",121:"PUSH26",122:"PUSH27",123:"PUSH28",124:"PUSH29",125:"PUSH30",126:"PUSH31",127:"PUSH32",128:"DUP1",129:"DUP2",130:"DUP3",131:"DUP4",132:"DUP5",133:"DUP6",134:"DUP7",135:"DUP8",136:"DUP9",137:"DUP10",138:"DUP11",139:"DUP12",140:"DUP13",141:"DUP14",142:"DUP15",143:"DUP16",144:"SWAP1",145:"SWAP2",146:"SWAP3",147:"SWAP4",148:"SWAP5",149:"SWAP6",150:"SWAP7",151:"SWAP8",152:"SWAP9",153:"SWAP10",154:"SWAP11",155:"SWAP12",156:"SWAP13",157:"SWAP14",158:"SWAP15",159:"SWAP16",160:"LOG0",161:"LOG1",162:"LOG2",163:"LOG3",164:"LOG4",240:"CREATE",241:"CALL",242:"CALLCODE",243:"RETURN",244:"DELEGATECALL",245:"CREATE2",250:"STATICCALL",253:"REVERT",254:"INVALID",255:"SELFDESTRUCT"},e.names={STOP:0,ADD:1,MUL:2,SUB:3,DIV:4,SDIV:5,MOD:6,SMOD:7,ADDMOD:8,MULMOD:9,EXP:10,SIGNEXTEND:11,LT:16,GT:17,SLT:18,SGT:19,EQ:20,ISZERO:21,AND:22,OR:23,XOR:24,NOT:25,BYTE:26,SHL:27,SHR:28,SAR:29,SHA3:32,ADDRESS:48,BALANCE:49,ORIGIN:50,CALLER:51,CALLVALUE:52,CALLDATALOAD:53,CALLDATASIZE:54,CALLDATACOPY:55,CODESIZE:56,CODECOPY:57,GASPRICE:58,EXTCODESIZE:59,EXTCODECOPY:60,RETURNDATASIZE:61,RETURNDATACOPY:62,EXTCODEHASH:63,BLOCKHASH:64,COINBASE:65,TIMESTAMP:66,NUMBER:67,DIFFICULTY:68,GASLIMIT:69,POP:80,MLOAD:81,MSTORE:82,MSTORE8:83,SLOAD:84,SSTORE:85,JUMP:86,JUMPI:87,PC:88,MSIZE:89,GAS:90,JUMPDEST:91,PUSH1:96,PUSH2:97,PUSH3:98,PUSH4:99,PUSH5:100,PUSH6:101,PUSH7:102,PUSH8:103,PUSH9:104,PUSH10:105,PUSH11:106,PUSH12:107,PUSH13:108,PUSH14:109,PUSH15:110,PUSH16:111,PUSH17:112,PUSH18:113,PUSH19:114,PUSH20:115,PUSH21:116,PUSH22:117,PUSH23:118,PUSH24:119,PUSH25:120,PUSH26:121,PUSH27:122,PUSH28:123,PUSH29:124,PUSH30:125,PUSH31:126,PUSH32:127,DUP1:128,DUP2:129,DUP3:130,DUP4:131,DUP5:132,DUP6:133,DUP7:134,DUP8:135,DUP9:136,DUP10:137,DUP11:138,DUP12:139,DUP13:140,DUP14:141,DUP15:142,DUP16:143,SWAP1:144,SWAP2:145,SWAP3:146,SWAP4:147,SWAP5:148,SWAP6:149,SWAP7:150,SWAP8:151,SWAP9:152,SWAP10:153,SWAP11:154,SWAP12:155,SWAP13:156,SWAP14:157,SWAP15:158,SWAP16:159,LOG0:160,LOG1:161,LOG2:162,LOG3:163,LOG4:164,CREATE:240,CALL:241,CALLCODE:242,RETURN:243,DELEGATECALL:244,CREATE2:245,STATICCALL:250,REVERT:253,INVALID:254,SELFDESTRUCT:255}},790:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EVM=void 0;const i=s(958),n=s(21),o=s(615),a=s(4),r=s(449),h=s(797),p=s(330),u=s(858),c=s(466),l=s(465);class S{constructor(t,e,s){this.functionHashes=e,this.eventHashes=s,this.pc=0,this.stack=new u.Stack,this.memory={},this.opcodes=[],this.instructions=[],this.jumps={},this.mappings={},this.layer=0,this.halted=!1,this.functions={},this.variables={},this.events={},this.gasUsed=0,this.conditions=[],t instanceof Uint8Array?this.code=t:this.code=(0,l.fromHex)(t.replace("0x",""))}clone(){const t=new S(this.code,this.functionHashes,this.eventHashes);return t.pc=this.pc,t.opcodes=this.opcodes,t.stack=this.stack.clone(),t.memory={...this.memory},t.jumps={...this.jumps},t.mappings=this.mappings,t.layer=this.layer+1,t.functions=this.functions,t.variables=this.variables,t.events=this.events,t.gasUsed=this.gasUsed,t.conditions=[...this.conditions],t}getBytecode(){return"0x"+(0,l.toHex)(this.code)}getOpcodes(){if(0===this.opcodes.length)for(let t=0;t<this.code.length;t++){const e=this.code[t],s={pc:t,opcode:e,name:c.codes[e]??"INVALID",toString:function(){const t=this.pc.toString(16).padStart(4,"0").toUpperCase(),e=this.opcode.toString(16).padStart(2,"0").toUpperCase(),s=this.pushData?" 0x"+(0,l.toHex)(this.pushData):"";return`${t}    ${e}    ${this.name}${s}`}};if(this.opcodes.push(s),e>=c.PUSH1&&e<=c.PUSH32){const i=e-95,n=this.code.subarray(t+1,t+i+1);s.pushData=n,t+=i}}return this.opcodes}getFunctions(){return[...new Set(this.getOpcodes().filter((t=>t.opcode===c.PUSH4)).map((t=>t.pushData?(0,l.toHex)(t.pushData):"")).filter((t=>t in this.functionHashes)).map((t=>this.functionHashes[t])))]}getEvents(){return[...new Set(this.getOpcodes().filter((t=>t.opcode===c.PUSH32)).map((t=>t.pushData?(0,l.toHex)(t.pushData):"")).filter((t=>t in this.eventHashes)).map((t=>this.eventHashes[t])))]}containsOpcode(t){let e=!1;if("string"==typeof t&&t in c.names)t=c.names[t];else if("string"==typeof t)throw new Error("Invalid opcode provided");for(let s=0;s<this.code.length;s++){const i=this.code[s];if(i===t&&!e)return!0;i===c.JUMPDEST?e=!1:[c.STOP,c.RETURN,c.REVERT,c.INVALID,c.SELFDESTRUCT].includes(i)?e=!0:i>=c.PUSH1&&i<=c.PUSH32&&(s+=i-c.PUSH1+1)}return!1}getJumpDestinations(){return this.getOpcodes().filter((t=>t.opcode===c.JUMPDEST)).map((t=>t.pc))}getSwarmHash(){const t=this.getBytecode().match(/a165627a7a72305820([a-f0-9]{64})0029$/);return!(!t||!t[1])&&"bzzr://"+t[1]}getABI(){const t=[];0===this.instructions.length&&this.parse(),Object.keys(this.functions).forEach((e=>{const s=t.push({type:"function"});s.name=this.functions[e].label.split("(")[0],s.payable=this.functions[e].payable,s.constant=this.functions[e].constant}))}reset(){this.pc=0,this.instructions=[],this.stack.reset(),this.memory={},this.jumps={},this.mappings={},this.functions={},this.variables={},this.events={},this.gasUsed=0}parse(){if(0===this.instructions.length){const t=this.getOpcodes();for(this.pc;this.pc<t.length&&!this.halted;this.pc++){const e=t[this.pc];i.default[e.name](e,this)}}return this.instructions}decompile(){const t=this.parse();return(0,n.default)(this.events,this.getEvents())+(0,o.default)(this.mappings)+(0,a.default)(this.mappings)+(0,r.default)(this.variables)+Object.keys(this.functions).map((t=>(0,h.default)(t,this.functions[t],this.functionHashes))).join("")+(0,p.stringifyInstructions)(t)}isERC165(){return["supportsInterface(bytes4)"].every((t=>this.getFunctions().includes(t)))}}e.EVM=S},465:(t,e)=>{function s(t){const e=t.toString();let s="";for(let t=0;t<e.length&&"00"!==e.substr(t,2);t+=2)s+=String.fromCharCode(parseInt(e.substr(t,2),16));return s}function i(t){return/^[0-9a-f-]+$/.test(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.fromHex=e.toHex=e.isHex=e.pad32=e.hex2a=void 0,e.hex2a=s,e.pad32=function(t){return t.length>=64?t:"0".repeat(64-t.length)+t},e.isHex=i,e.default=t=>{if(i(t)){const e=t.match(/.{1,64}/g);if(3===e.length&&32===parseInt(e[0],16)){const t=2*parseInt(e[1],16);return'"'+s(e[2].substr(0,t))+'"'}return isNaN(parseInt(t,16))?t:parseInt(t,16).toString()}return t},e.toHex=function(t){return t.reduce(((t,e)=>t+e.toString(16).padStart(2,"0")),"")},e.fromHex=function(t){const e=new Uint8Array(t.length/2);for(let s=0;s<e.length;s++)e[s]=parseInt(t.substr(2*s,2),16);return e}},341:function(t,e,s){var i=this&&this.__createBinding||(Object.create?function(t,e,s,i){void 0===i&&(i=s);var n=Object.getOwnPropertyDescriptor(e,s);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[s]}}),Object.defineProperty(t,i,n)}:function(t,e,s,i){void 0===i&&(i=s),t[i]=e[s]}),n=this&&this.__exportStar||function(t,e){for(var s in t)"default"===s||Object.prototype.hasOwnProperty.call(e,s)||i(e,t,s)};Object.defineProperty(e,"__esModule",{value:!0}),e.EVM=e.Transaction=e.Stack=void 0;var o=s(858);Object.defineProperty(e,"Stack",{enumerable:!0,get:function(){return o.Stack}});var a=s(710);Object.defineProperty(e,"Transaction",{enumerable:!0,get:function(){return a.Transaction}});var r=s(790);Object.defineProperty(e,"EVM",{enumerable:!0,get:function(){return r.EVM}}),n(s(958),e)},79:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CallValue=e.CALLDATACOPY=e.CALLDATASIZE=e.CallDataLoad=void 0;const i=s(188);e.CallDataLoad=class{constructor(t){this.location=t,this.name="CALLDATALOAD",this.wrapped=!1}toString(){return"bigint"==typeof this.location&&0n===this.location?"msg.data":"bigint"==typeof this.location&&(this.location-4n)%32n===0n?"_arg"+((this.location-4n)/32n).toString():"msg.data["+(0,i.default)(this.location)+"]"}},e.CALLDATASIZE=class{constructor(){this.name="CALLDATASIZE",this.wrapped=!1,this.toString=()=>"msg.data.length"}},e.CALLDATACOPY=class{constructor(t,e){this.startLocation=t,this.copyLength=e,this.name="CALLDATACOPY",this.wrapped=!0,this.toString=()=>`msg.data[${this.startLocation}:(${this.startLocation}+${this.copyLength})];`}},e.CallValue=class{constructor(){this.name="CALLDATASIZE",this.wrapped=!1,this.toString=()=>"msg.value"}}},420:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Sar=e.Shr=e.Shl=e.Byte=e.Not=e.Xor=e.LT=e.GT=e.IsZero=e.OR=void 0;const i=s(326),n=s(188);e.OR=class{constructor(t,e){this.left=t,this.right=e,this.name="OR",this.wrapped=!0,this.toString=()=>(0,n.default)(this.left)+" || "+(0,n.default)(this.right)}},e.IsZero=class{constructor(t){this.value=t,this.name="ISZERO",this.wrapped=!0}toString(){return this.value instanceof i.EQ?(0,n.default)(this.value.left)+" != "+(0,n.default)(this.value.right):(0,n.default)(this.value)+" == 0"}},e.GT=class{constructor(t,e,s=!1){this.left=t,this.right=e,this.equal=s,this.name="GT",this.wrapped=!0}toString(){return(0,n.default)(this.left)+(this.equal?" >= ":" > ")+(0,n.default)(this.right)}},e.LT=class{constructor(t,e,s=!1){this.left=t,this.right=e,this.equal=s,this.name="LT",this.wrapped=!0}toString(){return(0,n.default)(this.left)+(this.equal?" <= ":" < ")+(0,n.default)(this.right)}},e.Xor=class{constructor(t,e){this.left=t,this.right=e,this.name="XOR",this.wrapped=!0,this.toString=()=>`${(0,n.default)(this.left)} ^ ${(0,n.default)(this.right)}`}},e.Not=class{constructor(t){this.value=t,this.name="NOT",this.wrapped=!0,this.toString=()=>`~${(0,n.default)(this.value)}`}},e.Byte=class{constructor(t,e){this.position=t,this.data=e,this.name="BYTE",this.wrapped=!0,this.toString=()=>`(${(0,n.default)(this.data)} >> ${(0,n.default)(this.position)}) & 1`}},e.Shl=class{constructor(t,e){this.value=t,this.shift=e,this.name="SHL",this.wrapped=!0,this.toString=()=>`${(0,n.default)(this.value)} << ${(0,n.default)(this.shift)}`}},e.Shr=class{constructor(t,e){this.value=t,this.shift=e,this.name="SHR",this.wrapped=!0,this.toString=()=>`${(0,n.default)(this.value)} >>> ${(0,n.default)(this.shift)}`}},e.Sar=class{constructor(t,e){this.value=t,this.shift=e,this.name="SAR",this.wrapped=!0,this.toString=()=>`${(0,n.default)(this.value)} >> ${(0,n.default)(this.shift)}`}}},287:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Exp=e.Mod=e.Div=e.Sub=e.Mul=e.Add=e.Stop=void 0;const i=s(188);e.Stop=class{constructor(){this.name="STOP",this.wrapped=!1,this.toString=()=>"return;"}},e.Add=class{constructor(t,e){this.left=t,this.right=e,this.name="ADD",this.wrapped=!0,this.toString=()=>`${(0,i.default)(this.left)} + ${(0,i.default)(this.right)}`}},e.Mul=class{constructor(t,e){this.left=t,this.right=e,this.name="MUL",this.wrapped=!0,this.toString=()=>`${(0,i.default)(this.left)} * ${(0,i.default)(this.right)}`}},e.Sub=class{constructor(t,e){this.left=t,this.right=e,this.name="SUB",this.wrapped=!0,this.toString=()=>`${(0,i.default)(this.left)} - ${(0,i.default)(this.right)}`}},e.Div=class{constructor(t,e){this.left=t,this.right=e,this.name="DIV",this.wrapped=!0,this.toString=()=>`${(0,i.default)(this.left)} / ${(0,i.default)(this.right)}`}},e.Mod=class{constructor(t,e){this.left=t,this.right=e,this.name="MOD",this.wrapped=!0,this.toString=()=>`${(0,i.default)(this.left)} % ${(0,i.default)(this.right)}`}},e.Exp=class{constructor(t,e){this.left=t,this.right=e,this.name="EXP",this.wrapped=!0,this.toString=()=>(0,i.default)(this.left)+" ** "+(0,i.default)(this.right)}}},401:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SelfDestruct=e.Invalid=e.Revert=e.Return=void 0;const i=s(465),n=s(188);e.Return=class{constructor(t,e,s){this.items=t,this.name="RETURN",this.wrapped=!0,e&&s&&(this.memoryStart=e,this.memoryLength=s)}toString(){return this.memoryStart&&this.memoryLength?"return memory["+(0,n.default)(this.memoryStart)+":("+(0,n.default)(this.memoryStart)+"+"+(0,n.default)(this.memoryLength)+")];":0===this.items.length?"return;":1!==this.items.length||"bigint"!=typeof this.items[0]&&!this.items[0].static?3===this.items.length&&this.items.every((t=>"bigint"==typeof t))&&32n===this.items[0]?'return "'+(0,i.hex2a)(this.items[2].toString(16))+'";':"return("+this.items.map((t=>(0,n.default)(t))).join(", ")+");":"return "+this.items[0]+";"}},e.Revert=class{constructor(t,e,s){this.name="REVERT",this.wrapped=!0,e&&s?(this.memoryStart=e,this.memoryLength=s):this.items=t}toString(){return this.items?"revert("+this.items.map((t=>(0,n.default)(t))).join(", ")+");":"revert(memory["+(0,n.default)(this.memoryStart)+":("+(0,n.default)(this.memoryStart)+"+"+(0,n.default)(this.memoryLength)+")]);"}},e.Invalid=class{constructor(t){this.opcode=t,this.name="INVALID",this.wrapped=!0,this.toString=()=>`revert("Invalid instruction (0x${this.opcode.toString(16)})");`}},e.SelfDestruct=class{constructor(t){this.address=t,this.name="SELFDESTRUCT",this.wrapped=!0,this.toString=()=>`selfdestruct(${(0,n.default)(this.address)});`}}},918:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AND=void 0;const i=s(188);class n{constructor(t,e){this.left=t,this.right=e,this.name="AND",this.wrapped=!0}toString(){return(0,i.default)(this.left)+" && "+(0,i.default)(this.right)}}e.AND=n,e.default=(t,{stack:e})=>{const s=e.pop(),i=e.pop();"bigint"==typeof s&&"bigint"==typeof i?e.push(s&i):"bigint"==typeof s&&/^[f]+$/.test(s.toString(16))?(i.size=s.toString(16).length,e.push(i)):"bigint"==typeof i&&/^[f]+$/.test(i.toString(16))?(s.size=i.toString(16).length,e.push(s)):"bigint"==typeof s&&i instanceof n&&"bigint"==typeof i.left&&s===i.left?e.push(i.right):e.push(new n(s,i))}},230:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ReturnData=e.CALL=void 0;const i=s(188);class n{constructor(t,e,s,i,n,o,a){this.gas=t,this.address=e,this.value=s,this.memoryStart=i,this.memoryLength=n,this.outputStart=o,this.outputLength=a,this.name="CALL",this.wrapped=!1,this.throwOnFail=!1}toString(){return"bigint"==typeof this.memoryLength&&0n===this.memoryLength&&"bigint"==typeof this.outputLength&&0n===this.outputLength?"MUL"===this.gas.name&&"ISZERO"===this.gas.left.name&&"bigint"==typeof this.gas.right&&2300n===this.gas.right?this.throwOnFail?"address("+(0,i.default)(this.address)+").transfer("+(0,i.default)(this.value)+")":"address("+(0,i.default)(this.address)+").send("+(0,i.default)(this.value)+")":"address("+(0,i.default)(this.address)+").call.gas("+(0,i.default)(this.gas)+").value("+(0,i.default)(this.value)+")":"call("+(0,i.default)(this.gas)+","+(0,i.default)(this.address)+","+(0,i.default)(this.value)+","+(0,i.default)(this.memoryStart)+","+(0,i.default)(this.memoryLength)+","+(0,i.default)(this.outputStart)+","+(0,i.default)(this.outputLength)+")"}}e.CALL=n;class o{constructor(t,e){this.retOffset=t,this.retSize=e,this.name="ReturnData",this.wrapped=!1}toString(){return`output:ReturnData:${this.retOffset}:${this.retSize}`}}e.ReturnData=o,e.default=(t,{stack:e,memory:s})=>{const i=e.pop(),a=e.pop(),r=e.pop(),h=e.pop(),p=e.pop(),u=e.pop(),c=e.pop();e.push(new n(i,a,r,h,p,u,c)),s[u]=new o(u,c)}},562:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CALLCODE=void 0;const i=s(188);class n{constructor(t,e,s,i,n,o,a){this.gas=t,this.address=e,this.value=s,this.memoryStart=i,this.memoryLength=n,this.outputStart=o,this.outputLength=a,this.name="CALLCODE",this.wrapped=!0}toString(){return"callcode("+(0,i.default)(this.gas)+","+(0,i.default)(this.address)+","+(0,i.default)(this.value)+","+(0,i.default)(this.memoryStart)+","+(0,i.default)(this.memoryLength)+","+(0,i.default)(this.outputStart)+","+(0,i.default)(this.outputLength)+")"}}e.CALLCODE=n,e.default=(t,{stack:e})=>{const s=e.pop(),i=e.pop(),o=e.pop(),a=e.pop(),r=e.pop(),h=e.pop(),p=e.pop();e.push(new n(s,i,o,a,r,h,p))}},457:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CODECOPY=void 0;const i=s(188);class n{constructor(t,e){this.startLocation=t,this.copyLength=e,this.name="CODECOPY",this.wrapped=!0}toString(){return"this.code["+(0,i.default)(this.startLocation)+":("+(0,i.default)(this.startLocation)+"+"+(0,i.default)(this.copyLength)+")]"}}e.CODECOPY=n,e.default=(t,{stack:e,memory:s})=>{const i=e.pop(),o=e.pop(),a=e.pop();s[i]=new n(o,a)}},775:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CREATE=void 0;const i=s(188);class n{constructor(t,e,s){this.memoryStart=t,this.memoryLength=e,this.value=s,this.name="CREATE",this.wrapped=!0}toString(){return"(new Contract(memory["+(0,i.default)(this.memoryStart)+":("+(0,i.default)(this.memoryStart)+"+"+(0,i.default)(this.memoryLength)+")]).value("+(0,i.default)(this.value)+")).address"}}e.CREATE=n,e.default=(t,e)=>{const s=e.stack.pop(),i=e.stack.pop(),o=e.stack.pop();e.stack.push(new n(i,o,s))}},279:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CREATE2=void 0;const i=s(188);class n{constructor(t,e,s){this.memoryStart=t,this.memoryLength=e,this.value=s,this.name="CREATE2",this.wrapped=!0}toString(){return"(new Contract(memory["+(0,i.default)(this.memoryStart)+":("+(0,i.default)(this.memoryStart)+"+"+(0,i.default)(this.memoryLength)+")]).value("+(0,i.default)(this.value)+")).address"}}e.CREATE2=n,e.default=(t,{stack:e})=>{const s=e.pop(),i=e.pop(),o=e.pop();e.push(new n(i,o,s))}},943:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DELEGATECALL=void 0;const i=s(188);class n{constructor(t,e,s,i,n,o){this.gas=t,this.address=e,this.memoryStart=s,this.memoryLength=i,this.outputStart=n,this.outputLength=o,this.name="DELEGATECALL",this.wrapped=!0}toString(){return"delegatecall("+(0,i.default)(this.gas)+","+(0,i.default)(this.address)+","+(0,i.default)(this.memoryStart)+","+(0,i.default)(this.memoryLength)+","+(0,i.default)(this.outputStart)+","+(0,i.default)(this.outputLength)+")"}}e.DELEGATECALL=n,e.default=(t,{stack:e})=>{const s=e.pop(),i=e.pop(),o=e.pop(),a=e.pop(),r=e.pop(),h=e.pop();e.push(new n(s,i,o,a,r,h))}},326:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EQ=e.SIG=void 0;const i=s(79),n=s(420),o=s(287),a=s(188);class r{constructor(t){this.hash=t,this.name="SIG",this.wrapped=!1,this.toString=()=>`msg.sig == ${this.hash}`}}e.SIG=r;class h{constructor(t,e){this.left=t,this.right=e,this.name="EQ",this.wrapped=!0,this.toString=()=>`${(0,a.default)(this.left)} == ${(0,a.default)(this.right)}`}}function p(t,e,s){return"bigint"==typeof t&&e instanceof n.Shr&&"bigint"==typeof e.shift&&0xe0n===e.shift&&e.value instanceof i.CallDataLoad&&0n===e.value.location?new r(t.toString(16).padStart(8,"0")):s()}function u(t,e,s){return"bigint"==typeof t&&e instanceof o.Div&&"bigint"==typeof e.right&&(t*=e.right,e=e.left,t%(1n<<0xe0n)===0n&&e instanceof i.CallDataLoad&&0n===e.location)?new r(t.toString(16).substring(0,8-(64-t.toString(16).length)).padStart(8,"0")):s()}e.EQ=h,e.default=(t,{stack:e})=>{const s=e.pop(),i=e.pop();e.push("bigint"==typeof s&&"bigint"==typeof i?s===i?1n:0n:u(s,i,(()=>u(i,s,(()=>p(s,i,(()=>p(i,s,(()=>new h(s,i))))))))))}},978:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EXTCODECOPY=void 0;const i=s(188);class n{constructor(t,e,s){this.address=t,this.startLocation=e,this.copyLength=s,this.name="EXTCODECOPY",this.wrapped=!0}toString(){return"address("+(0,i.default)(this.address)+").code["+(0,i.default)(this.startLocation)+":("+(0,i.default)(this.startLocation)+"+"+(0,i.default)(this.copyLength)+")]"}}e.EXTCODECOPY=n,e.default=(t,{stack:e,memory:s})=>{const i=e.pop(),o=e.pop(),a=e.pop(),r=e.pop();if("number"!=typeof o)throw new Error("expected number extcodecopy");s[o]=new n(i,a,r)}},958:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=s(465),n=s(287),o=s(420),a=s(79),r=s(401),h=s(326),p=s(918),u=s(10),c=s(457),l=s(978),S=s(353),d=s(508),f=s(391),m=s(768),g=s(935),P=s(526),A=s(184),L=s(613),U=s(775),D=s(230),E=s(562),O=s(943),y=s(279),T=s(117),b=s(188);function H(t,e){return(s,{stack:i})=>{i.push({name:"SYMBOL",type:e,wrapped:!1,toString:()=>t})}}function v(t){return(e,{stack:s})=>{const i=s.pop();s.push({name:"SYMBOL",wrapped:!1,toString:()=>t((0,b.default)(i))})}}function C(t,{stack:e}){const s=e.pop(),i=e.pop();e.push(_(s)&&_(i)?s/i:_(i)&&1n===i?s:new n.Div(s,i))}function w(t,{stack:e}){const s=e.pop(),i=e.pop();e.push(_(s)&&_(i)?s%i:new n.Mod(s,i))}function R(t,{stack:e}){const s=e.pop(),i=e.pop();e.push(_(s)&&_(i)?s<i?1n:0n:new o.LT(s,i))}function M(t,{stack:e}){const s=e.pop(),i=e.pop();e.push(_(s)&&_(i)?s>i?1n:0n:new o.GT(s,i))}function I(t,{stack:e}){e.push(BigInt("0x"+(0,i.toHex)(t.pushData)))}function k(t){return(e,{stack:s})=>{s.dup(t)}}function N(t){return(e,{stack:s})=>{s.swap(t)}}function j(t,{stack:e,memory:s,instructions:i}){const n=e.pop(),o=e.pop();_(n)?s[Number(n)]=o:i.push(new f.MSTORE(n,o))}function _(t){return"bigint"==typeof t}e.default={STOP:(t,e)=>{e.halted=!0,e.instructions.push(new n.Stop)},ADD:(t,{stack:e})=>{const s=e.pop(),i=e.pop();e.push(_(s)&&_(i)?s+i:_(s)&&0n===s?i:_(i)&&0n===i?s:new n.Add(s,i))},MUL:(t,{stack:e})=>{const s=e.pop(),i=e.pop();e.push(_(s)&&_(i)?s*i:_(s)&&0n===s||_(i)&&0n===i?0n:new n.Mul(s,i))},SUB:(t,{stack:e})=>{const s=e.pop(),i=e.pop();e.push(_(s)&&_(i)?s-i:new n.Sub(s,i))},DIV:C,SDIV:C,MOD:w,SMOD:w,ADDMOD:(t,{stack:e})=>{const s=e.pop(),i=e.pop(),o=e.pop();e.push(_(s)&&_(i)&&_(o)?(s+i)%o:_(s)&&_(i)?new n.Mod(s+i,o):new n.Mod(new n.Add(s,i),o))},MULMOD:(t,{stack:e})=>{const s=e.pop(),i=e.pop(),o=e.pop();e.push(_(s)&&_(i)&&_(o)?s*i%o:_(s)&&_(i)?new n.Mod(s*i,o):new n.Mod(new n.Mul(s,i),o))},EXP:(t,{stack:e})=>{const s=e.pop(),i=e.pop();e.push(_(s)&&_(i)?s**i:new n.Exp(s,i))},SIGNEXTEND:(t,{stack:e})=>{const s=e.pop(),i=e.pop();e.push(_(s)&&_(i)?i<<32n-s>>32n-s:_(s)?new o.Sar(new o.Shl(i,32n-s),32n-s):new o.Sar(new o.Shl(i,new n.Sub(32n,s)),new n.Sub(32n,s)))},LT:R,GT:M,SLT:R,SGT:M,EQ:h.default,ISZERO:(t,{stack:e})=>{const s=e.pop();e.push(_(s)?0n===s?1n:0n:"LT"===s.name?new o.GT(s.left,s.right,!s.equal):"GT"===s.name?new o.LT(s.left,s.right,!s.equal):s instanceof o.IsZero?s.value:new o.IsZero(s))},AND:p.default,OR:(t,{stack:e})=>{const s=e.pop(),i=e.pop();e.push(_(s)&&_(i)?s|i:new o.OR(s,i))},XOR:(t,{stack:e})=>{const s=e.pop(),i=e.pop();e.push(_(s)&&_(i)?s^i:new o.Xor(s,i))},NOT:(t,{stack:e})=>{const s=e.pop();e.push(_(s)?~s:new o.Not(s))},BYTE:(t,{stack:e})=>{const s=e.pop(),i=e.pop();e.push(_(i)&&_(s)?i>>s&1n:new o.Byte(s,i))},SHL:(t,{stack:e})=>{const s=e.pop(),i=e.pop();e.push(_(i)&&_(s)?i<<s:new o.Shl(i,s))},SHR:(t,{stack:e})=>{const s=e.pop(),i=e.pop();e.push(_(i)&&_(s)?i>>s:new o.Shr(i,s))},SAR:(t,{stack:e})=>{const s=e.pop(),i=e.pop();e.push(_(i)&&_(s)?i>>s:new o.Sar(i,s))},SHA3:u.default,ADDRESS:H("this","address"),BALANCE:v((t=>`${t}.balance`)),ORIGIN:H("tx.origin"),CALLER:H("msg.sender"),CALLVALUE:(t,{stack:e})=>{e.push(new a.CallValue)},CALLDATALOAD:(t,{stack:e})=>{const s=e.pop();e.push(new a.CallDataLoad(s))},CALLDATASIZE:(t,{stack:e})=>{e.push(new a.CALLDATASIZE)},CALLDATACOPY:(t,{stack:e,memory:s})=>{const i=e.pop(),n=e.pop(),o=e.pop();s[i]=new a.CALLDATACOPY(n,o)},CODESIZE:H("this.code.length"),CODECOPY:c.default,GASPRICE:H("tx.gasprice"),EXTCODESIZE:v((t=>`address(${t}).code.length`)),EXTCODECOPY:l.default,RETURNDATASIZE:H("output.length"),RETURNDATACOPY:S.default,EXTCODEHASH:v((t=>`keccak256(address(${t}).code)`)),BLOCKHASH:v((t=>`blockhash(${t})`)),COINBASE:H("block.coinbase"),TIMESTAMP:H("block.timestamp"),NUMBER:H("block.number"),DIFFICULTY:H("block.difficulty"),GASLIMIT:H("block.gaslimit"),POP:(t,{stack:e})=>{e.pop()},MLOAD:(t,{stack:e,memory:s})=>{const i=e.pop();e.push(_(i)&&Number(i)in s?s[Number(i)]:new d.MLOAD(i))},MSTORE:j,MSTORE8:j,SLOAD:m.default,SSTORE:g.default,JUMP:P.default,JUMPI:A.default,PC:(t,{stack:e})=>{e.push(BigInt(t.pc))},MSIZE:H("memory.length"),GAS:H("gasleft()"),JUMPDEST:(t,e)=>{},PUSH1:I,PUSH2:I,PUSH3:I,PUSH4:I,PUSH5:I,PUSH6:I,PUSH7:I,PUSH8:I,PUSH9:I,PUSH10:I,PUSH11:I,PUSH12:I,PUSH13:I,PUSH14:I,PUSH15:I,PUSH16:I,PUSH17:I,PUSH18:I,PUSH19:I,PUSH20:I,PUSH21:I,PUSH22:I,PUSH23:I,PUSH24:I,PUSH25:I,PUSH26:I,PUSH27:I,PUSH28:I,PUSH29:I,PUSH30:I,PUSH31:I,PUSH32:I,DUP1:k(0),DUP2:k(1),DUP3:k(2),DUP4:k(3),DUP5:k(4),DUP6:k(5),DUP7:k(6),DUP8:k(7),DUP9:k(8),DUP10:k(9),DUP11:k(10),DUP12:k(11),DUP13:k(12),DUP14:k(13),DUP15:k(14),DUP16:k(15),SWAP1:N(1),SWAP2:N(2),SWAP3:N(3),SWAP4:N(4),SWAP5:N(5),SWAP6:N(6),SWAP7:N(7),SWAP8:N(8),SWAP9:N(9),SWAP10:N(10),SWAP11:N(11),SWAP12:N(12),SWAP13:N(13),SWAP14:N(14),SWAP15:N(15),SWAP16:N(16),LOG0:(0,L.default)(0),LOG1:(0,L.default)(1),LOG2:(0,L.default)(2),LOG3:(0,L.default)(3),LOG4:(0,L.default)(4),CREATE:U.default,CALL:D.default,CALLCODE:E.default,RETURN:(t,e)=>{const s=e.stack.pop(),i=e.stack.pop();if(e.halted=!0,_(s)&&_(i)){const t=[];for(let n=Number(s);n<Number(s+i);n+=32)t.push(n in e.memory?e.memory[n]:new d.MLOAD(n));e.instructions.push(new r.Return(t))}else e.instructions.push(new r.Return([],s,i))},DELEGATECALL:O.default,CREATE2:y.default,STATICCALL:T.default,REVERT:(t,e)=>{const s=e.stack.pop(),i=e.stack.pop();if(e.halted=!0,_(s)&&_(i)){const t=[];for(let n=Number(s);n<Number(s+i);n+=32)t.push(n in e.memory?e.memory[n]:new d.MLOAD(n));e.instructions.push(new r.Revert(t))}else e.instructions.push(new r.Revert([],s,i))},INVALID:(t,e)=>{e.halted=!0,e.instructions.push(new r.Invalid(t.opcode))},SELFDESTRUCT:(t,e)=>{const s=e.stack.pop();e.halted=!0,e.instructions.push(new r.SelfDestruct(s))}}},526:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.JUMP=void 0;const i=s(466),n=s(188);class o{constructor(t,e){this.location=t,this.name="JUMP",this.wrapped=!1,this.valid=!e}toString(){return this.valid?"goto("+(0,n.default)(this.location)+");":'revert("Bad jump destination");'}}e.JUMP=o,e.default=(t,e)=>{const s=e.stack.pop();if("bigint"!=typeof s)e.halted=!0,e.instructions.push(new o(s,!0));else{const n=e.getOpcodes(),a=n.find((t=>t.pc===Number(s)));if(a){const r=n.indexOf(a);t.pc+":"+Number(s)in e.jumps?(e.halted=!0,e.instructions.push(new o(s))):a&&a.opcode===i.JUMPDEST&&a&&r>=0&&a.opcode===i.JUMPDEST?(e.jumps[t.pc+":"+Number(s)]=!0,e.pc=r):(e.halted=!0,e.instructions.push(new o(s,!0)))}else e.halted=!0,e.instructions.push(new o(s,!0))}}},184:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.JUMPI=e.Require=e.Variable=e.TopLevelFunction=void 0;const i=s(188),n=s(79),o=s(79),a=s(420),r=s(768),h=s(466),p=(t,e)=>{for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if("object"==typeof t[s]&&"CALLDATALOAD"===t[s].name&&"bigint"==typeof t[s].location){const i=((t[s].location-4n)/32n).toString();t[s].type=e[i]}"object"==typeof t[s]&&p(t[s],e)}},u=t=>{const e=[];for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&("object"==typeof t[s]&&"RETURN"===t[s].name&&t[s].items&&t[s].items.length>0&&e.push(t[s].items),"object"==typeof t[s])){const i=u(t[s]);i.length>0&&e.push(...i)}return e};class c{constructor(t,e,s,i){if(this.items=t,this.hash=e,this.gasUsed=s,this.payable=!0,this.visibility="public",this.constant=!1,this.returns=[],this.hash in i?this.label=i[this.hash]:this.label=this.hash+"()",this.items.length>0&&this.items[0]instanceof S&&this.items[0].condition instanceof a.IsZero&&this.items[0].condition.value instanceof o.CallValue&&(this.payable=!1,this.items.shift()),1===this.items.length&&"RETURN"===this.items[0].name&&(this.constant=!0),this.hash in i){const t=i[this.hash].split("(")[0],e=i[this.hash].replace(t,"").substr(1).slice(0,-1).split(",");(e.length>1||1===e.length&&""!==e[0])&&this.items.forEach((t=>p(t,e)))}const n=[];this.items.forEach((t=>{const e=u(t);e.length>0&&n.push(...e)})),n.length>0&&n.every((t=>t.length===n[0].length&&t.map((t=>t.type)).join("")===n[0].map((t=>t.type)).join("")))?n[0].forEach((t=>{"bigint"==typeof t?this.returns.push("uint256"):t.type?this.returns.push(t.type):this.returns.push("unknown")})):n.length>0&&this.returns.push("<unknown>")}}e.TopLevelFunction=c;class l{constructor(t,e){this.label=t,this.types=e}}e.Variable=l;class S{constructor(t){this.condition=t,this.name="REQUIRE",this.wrapped=!0}toString(){return"require("+(0,i.default)(this.condition)+");"}}e.Require=S;class d{constructor(t,e,s,i,n){this.condition=t,this.location=e,this.name="JUMPI",this.wrapped=!0,n?this.valid=!0:s&&i?(this.valid=!0,this.true=s,this.false=i,this.true.length>=1&&this.true[0]instanceof S&&this.true[0].condition instanceof a.IsZero&&this.true[0].condition.value instanceof o.CallValue?(this.payable=!1,this.true.shift()):this.payable=!0):this.valid=!1}toString(){return this.valid&&this.true&&this.false?(0,i.default)(this.condition):this.valid?"if"+(0,i.default)(this.condition)+" goto("+(0,i.default)(this.location)+");":'revert("Bad jump destination");'}}e.JUMPI=d,e.default=(t,e)=>{const s=e.stack.pop(),o=e.stack.pop(),a=e.getOpcodes();if("bigint"!=typeof s)e.halted=!0,e.instructions.push(new d(o,s));else{const u=a.find((t=>t.pc===Number(s)));if(u&&u.opcode===h.JUMPDEST)if("bigint"==typeof o){const i=a.indexOf(u);i>=0&&0n!==o&&!(t.pc+":"+Number(s)in e.jumps)&&(e.jumps[t.pc+":"+Number(s)]=!0,e.pc=i)}else if(t.pc+":"+Number(s)in e.jumps||"SIG"!==o.name)if(!(t.pc+":"+Number(s)in e.jumps)&&("LT"===o.name&&"CALLDATASIZE"===o.left.name&&"bigint"==typeof o.right&&4n===o.right||"ISZERO"===o.name&&o.value instanceof n.CALLDATASIZE)){const t=a.indexOf(u);if(t>=0){e.halted=!0;const n=e.clone();n.pc=t,n.conditions.push(o);const a=n.parse(),r=e.clone();r.pc=e.pc+1;const h=r.parse();a.length>0&&a.length===h.length&&"REVERT"!==a[0].name&&"INVALID"!==a[0].name&&a.map((t=>(0,i.default)(t))).join("")===h.map((t=>(0,i.default)(t))).join("")?e.functions[""]=new c(a,"",n.gasUsed,e.functionHashes):a.length>0&&"REVERT"!==a[0].name&&"INVALID"!==a[0].name&&e.instructions.push(new d(o,s,a,h))}else e.instructions.push(new d(o,s))}else if(t.pc+":"+Number(s)in e.jumps)e.instructions.push(new d(o,s,null,null,!0));else{const i=a.indexOf(u);if(e.jumps[t.pc+":"+Number(s)]=!0,i>=0){e.halted=!0;const t=e.clone();t.pc=i,t.conditions.push(o);const n=t.parse(),a=e.clone();a.pc=e.pc+1;const r=a.parse();1===r.length&&"name"in r[0]&&"REVERT"===r[0].name&&r[0].items&&0===r[0].items.length||"INVALID"===r[0].name?"CALL"===o.name&&"bigint"==typeof o.memoryLength&&0n===o.memoryLength&&"bigint"==typeof o.outputLength&&0n===o.outputLength&&"MUL"===o.gas.name&&"ISZERO"===o.gas.left.name&&"bigint"==typeof o.gas.right&&2300n===o.gas.right?(o.throwOnFail=!0,e.instructions.push(o),e.instructions.push(...n)):(e.instructions.push(new S(o)),e.instructions.push(...n)):e.instructions.push(new d(o,s,n,r))}else e.instructions.push(new d(o,s))}else{const t=a.indexOf(u);if(t>=0){const s=e.clone();s.pc=t;const i=s.parse();if(e.functions[o.hash]=new c(i,o.hash,s.gasUsed,e.functionHashes),o.hash in e.functionHashes&&1===i.length&&"RETURN"===i[0].name&&i[0].items.every((t=>"MappingLoad"===t.name)))i[0].items.forEach((t=>{const s=e.functionHashes[o.hash];e.mappings[t.location].name=s.split("(")[0],t.structlocation&&!e.mappings[t.location].structs.includes(t.structlocation)&&e.mappings[t.location].structs.push(t.structlocation)})),delete e.functions[o.hash];else if(o.hash in e.functionHashes&&1===(p=e.functions[o.hash].items).length&&"RETURN"===p[0].name&&1===p[0].items.length&&p[0].items[0]instanceof r.SLOAD&&"bigint"==typeof p[0].items[0].location){const t=e.functions[o.hash].items[0].items[0];if(t.location in e.variables){const s=e.functionHashes[o.hash];e.variables[t.location].label=s.split("(")[0],delete e.functions[o.hash]}else{const s=e.functionHashes[o.hash];e.variables[t.location]=new l(s.split("(")[0],[]),delete e.functions[o.hash]}}}}else e.instructions.push(new S(o))}var p}},613:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LOG=void 0;const i=s(508);class n{constructor(t,e,s,i,n){this.topics=e,this.name="LOG",this.wrapped=!0,this.topics.length>0&&"bigint"==typeof this.topics[0]&&this.topics[0].toString(16)in t&&(this.eventName=t[this.topics[0].toString(16)].split("(")[0],this.topics.shift()),this.memoryStart&&this.memoryLength?(this.memoryStart=i,this.memoryLength=n):this.items=s}toString(){return this.eventName?"emit "+this.eventName+"("+[...this.topics,...this.items].join(", ")+");":"log("+[...this.topics,...this.items].join(", ")+");"}}e.LOG=n,e.default=t=>(e,s)=>{const o=s.stack.pop(),a=s.stack.pop(),r=[];for(let e=0;e<t;e++)r.push(s.stack.pop());if(r.length>0){const t=r[0].toString(16);t in s.events||(s.events[t]={},s.events[t].indexedCount=r.length-1,t in s.eventHashes&&(s.events[t].label=s.eventHashes[t]))}if("bigint"==typeof o&&"bigint"==typeof a){const t=[];for(let e=Number(o);e<Number(o+a);e+=32)e in s.memory?t.push(s.memory[e]):t.push(new i.MLOAD(e));0===r.length&&("anonymous"in s.events||(s.events.anonymous=[]),s.events.anonymous.push({items:t})),s.instructions.push(new n(s.eventHashes,r,t))}else s.instructions.push(new n(s.eventHashes,r,[],o,a))}},508:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MLOAD=void 0;const i=s(188);e.MLOAD=class{constructor(t){this.location=t,this.name="MLOAD",this.wrapped=!0}toString(){return"memory["+(0,i.default)(this.location)+"]"}}},391:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MSTORE=void 0;const i=s(188);e.MSTORE=class{constructor(t,e){this.location=t,this.data=e,this.name="MSTORE",this.wrapped=!0}toString(){return"memory["+(0,i.default)(this.location)+"] = "+(0,i.default)(this.data)+";"}}},353:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RETURNDATACOPY=void 0;const i=s(188);class n{constructor(t,e){this.returnDataPosition=t,this.returnDataSize=e,this.name="RETURNDATACOPY",this.wrapped=!0}toString(){return"output["+(0,i.default)(this.returnDataPosition)+":("+(0,i.default)(this.returnDataPosition)+"+"+(0,i.default)(this.returnDataSize)+")]"}}e.RETURNDATACOPY=n,e.default=(t,{stack:e,memory:s})=>{const i=e.pop(),o=e.pop(),a=e.pop();s[i]=new n(o,a)}},10:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SHA3=void 0;const i=s(508),n=s(188);class o{constructor(t,e,s){this.name="SHA3",this.wrapped=!1,e&&s?(this.memoryStart=e,this.memoryLength=s):this.items=t}toString(){return this.items?"keccak256("+this.items.map((t=>(0,n.default)(t))).join(", ")+")":"keccak256(memory["+(0,n.default)(this.memoryStart)+":("+(0,n.default)(this.memoryStart)+"+"+(0,n.default)(this.memoryLength)+")])"}}e.SHA3=o,e.default=(t,{stack:e,memory:s})=>{const n=e.pop(),a=e.pop();if("bigint"==typeof n&&"bigint"==typeof a){const t=[];for(let e=Number(n);e<Number(n+a);e+=32)t.push(e in s?s[e]:new i.MLOAD(e));e.push(new o(t))}else e.push(new o([],n,a))}},768:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SLOAD=e.MappingLoad=void 0;const i=s(188),n=s(10),o=(...t)=>{const e=[];return t.forEach((t=>{"SHA3"===t.name&&t.items?e.push(...o(...t.items)):e.push(t)})),e};class a{constructor(t,e,s,i,n){this.mappings=t,this.location=e,this.items=s,this.count=i,this.structlocation=n,this.name="MappingLoad",this.wrapped=!1}toString(){let t="mapping"+(this.count+1);return this.location in this.mappings()&&this.mappings()[this.location].name&&(t=this.mappings()[this.location].name),this.structlocation?t+this.items.map((t=>"["+(0,i.default)(t)+"]")).join("")+"["+this.structlocation.toString()+"]":t+this.items.map((t=>"["+(0,i.default)(t)+"]")).join("")}}e.MappingLoad=a;class r{constructor(t,e){this.location=t,this.variables=e,this.name="SLOAD",this.wrapped=!1}toString(){return"bigint"==typeof this.location&&this.location.toString()in this.variables()?this.variables()[this.location.toString()].label?this.variables()[this.location.toString()].label:"var"+(Object.keys(this.variables()).indexOf(this.location.toString())+1):"storage["+(0,i.default)(this.location)+"]"}}e.SLOAD=r,e.default=(t,e)=>{const s=e.stack.pop();if("bigint"!=typeof s&&"SHA3"===s.name){const t=o(...s.items),i=t.find((t=>"bigint"==typeof t)),n=t.filter((t=>"bigint"!=typeof t));i&&n.length>0?(i in e.mappings||(e.mappings[i]={name:!1,structs:[],keys:[],values:[]}),e.mappings[i].keys.push(n),e.stack.push(new a((()=>e.mappings),i,n,Object.keys(e.mappings).indexOf(i.toString())))):e.stack.push(new r(s,(()=>e.variables)))}else if("bigint"!=typeof s&&"ADD"===s.name&&s.left instanceof n.SHA3&&"bigint"==typeof s.right){const t=o(...s.left.items),i=t.find((t=>"bigint"==typeof t)),n=t.filter((t=>"bigint"!=typeof t));i&&n.length>0?(i in e.mappings||(e.mappings[i]={name:!1,structs:[],keys:[],values:[]}),e.mappings[i].keys.push(n),e.stack.push(new a((()=>e.mappings),i,n,Object.keys(e.mappings).indexOf(i.toString()),s.right))):e.stack.push(new r(s,(()=>e.variables)))}else if("bigint"!=typeof s&&"ADD"===s.name&&"bigint"==typeof s.left&&s.right instanceof n.SHA3){const t=o(...s.right.items),i=t.find((t=>"bigint"==typeof t)),n=t.filter((t=>"bigint"!=typeof t));i&&n.length>0?(i in e.mappings||(e.mappings[i]={name:!1,structs:[],keys:[],values:[]}),e.mappings[i].keys.push(n),e.stack.push(new a((()=>e.mappings),i,n,Object.keys(e.mappings).indexOf(i.toString()),s.left))):e.stack.push(new r(s,(()=>e.variables)))}else e.stack.push(new r(s,(()=>e.variables)))}},935:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SSTORE=e.MappingStore=void 0;const i=s(188),n=s(184),o=s(10),a=(...t)=>{const e=[];return t.forEach((t=>{"SHA3"===t.name&&t.items?e.push(...a(...t.items)):e.push(t)})),e};class r{constructor(t,e,s,i,n,o){this.mappings=t,this.location=e,this.items=s,this.data=i,this.count=n,this.structlocation=o,this.name="MappingStore",this.wrapped=!1}toString(){let t="mapping"+(this.count+1);return this.location in this.mappings()&&this.mappings()[this.location].name&&(t=this.mappings()[this.location].name),"ADD"===this.data.name&&"MappingLoad"===this.data.right.name&&(0,i.default)(this.data.right.location)===(0,i.default)(this.location)?t+this.items.map((t=>"["+(0,i.default)(t)+"]")).join("")+" += "+(0,i.default)(this.data.left)+";":"ADD"===this.data.name&&"MappingLoad"===this.data.left.name&&(0,i.default)(this.data.left.location)===(0,i.default)(this.location)?t+this.items.map((t=>"["+(0,i.default)(t)+"]")).join("")+" += "+(0,i.default)(this.data.right)+";":"SUB"===this.data.name&&"MappingLoad"===this.data.left.name&&(0,i.default)(this.data.left.location)===(0,i.default)(this.location)?t+this.items.map((t=>"["+(0,i.default)(t)+"]")).join("")+" -= "+(0,i.default)(this.data.right)+";":t+this.items.map((t=>"["+(0,i.default)(t)+"]")).join("")+" = "+(0,i.default)(this.data)+";"}}e.MappingStore=r;class h{constructor(t,e,s){this.location=t,this.data=e,this.variables=s,this.name="SSTORE",this.wrapped=!0,"bigint"==typeof this.location&&this.location.toString()in this.variables()?this.variables()[this.location.toString()].types.push((()=>this.data.type)):"bigint"!=typeof this.location||this.location.toString()in this.variables()||(this.variables()[this.location.toString()]=new n.Variable(void 0,[()=>this.data.type]))}toString(){let t="storage["+(0,i.default)(this.location)+"]";return"bigint"==typeof this.location&&this.location.toString()in this.variables()&&(t=this.variables()[this.location.toString()].label?this.variables()[this.location.toString()].label:"var"+(Object.keys(this.variables()).indexOf(this.location.toString())+1)),"ADD"===this.data.name&&"SLOAD"===this.data.right.name&&(0,i.default)(this.data.right.location)===(0,i.default)(this.location)?t+" += "+(0,i.default)(this.data.left)+";":"SUB"===this.data.name&&"SLOAD"===this.data.left.name&&(0,i.default)(this.data.left.location)===(0,i.default)(this.location)?t+" -= "+(0,i.default)(this.data.right)+";":t+" = "+(0,i.default)(this.data)+";"}}e.SSTORE=h,e.default=(t,e)=>{const s=e.stack.pop(),i=e.stack.pop();if("bigint"==typeof s)e.instructions.push(new h(s,i,(()=>e.variables)));else if("SHA3"===s.name){const t=a(...s.items),n=t.find((t=>"bigint"==typeof t)),o=t.filter((t=>"bigint"!=typeof t));n&&o.length>0?(n in e.mappings||(e.mappings[n]={name:!1,structs:[],keys:[],values:[]}),e.mappings[n].keys.push(o),e.mappings[n].values.push(i),e.instructions.push(new r((()=>e.mappings),n,o,i,Object.keys(e.mappings).indexOf(n.toString())))):e.instructions.push(new h(s,i,(()=>e.variables)))}else if("ADD"===s.name&&s.left instanceof o.SHA3&&"bigint"==typeof s.right){const t=a(...s.left.items),n=t.find((t=>"bigint"==typeof t)),o=t.filter((t=>"bigint"!=typeof t));n&&o.length>0?(n in e.mappings||(e.mappings[n]={name:!1,structs:[],keys:[],values:[]}),e.mappings[n].keys.push(o),e.instructions.push(new r((()=>e.mappings),n,o,i,Object.keys(e.mappings).indexOf(n.toString()),s.right))):e.instructions.push(new h(s,i,(()=>e.variables)))}else if("ADD"===s.name&&"bigint"==typeof s.left&&s.right instanceof o.SHA3){const t=a(...s.right.items),n=t.find((t=>"bigint"==typeof t)),o=t.filter((t=>"bigint"!=typeof t));n&&o.length>0?(n in e.mappings||(e.mappings[n]={name:!1,structs:[],keys:[],values:[]}),e.mappings[n].keys.push(o),e.instructions.push(new r((()=>e.mappings),n,o,i,Object.keys(e.mappings).indexOf(n.toString()),s.left))):e.instructions.push(new h(s,i,(()=>e.variables)))}else e.instructions.push(new h(s,i,(()=>e.variables)))}},117:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.STATICCALL=void 0;const i=s(188);class n{constructor(t,e,s,i,n,o){this.gas=t,this.address=e,this.memoryStart=s,this.memoryLength=i,this.outputStart=n,this.outputLength=o,this.name="STATICCALL",this.wrapped=!0}toString(){return"staticcall("+(0,i.default)(this.gas)+","+(0,i.default)(this.address)+","+(0,i.default)(this.memoryStart)+","+(0,i.default)(this.memoryLength)+","+(0,i.default)(this.outputStart)+","+(0,i.default)(this.outputLength)+")"}}e.STATICCALL=n,e.default=(t,{stack:e})=>{const s=e.pop(),i=e.pop(),o=e.pop(),a=e.pop(),r=e.pop(),h=e.pop();e.push(new n(s,i,o,a,r,h))}},858:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Stack=void 0;class s{constructor(){this.elements=[]}push(t){if(this.elements.length>=1024)throw new Error("Stack too deep");this.elements.unshift(t)}pop(){if(0===this.elements.length)throw new Error("POP with empty stack");return this.elements.shift()}dup(t){if(t<0||t>15)throw new Error("Unsupported position for duplication operation");if(!(t in this.elements))throw new Error("Invalid duplication operation, provided position wasn't found in stack");this.push(this.elements[t])}swap(t){if(t<1||t>16)throw new Error("Unsupported position for swap operation");if(!(t in this.elements))throw new Error("Invalid swap operation, provided position wasn't found in stack");{const e=this.elements[0],s=this.elements[t];this.elements[0]=s,this.elements[t]=e}}clone(){const t=new s;return t.elements=[...this.elements],t}reset(){this.elements=[]}}e.Stack=s},710:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Transaction=void 0;const s=(t,e)=>"string"===e?'"'+Buffer.from(t,"hex").toString("utf8")+'"':"address"===e?"0x"+t.substring(24):"uint256"===e||"uint8"===e?BigInt("0x"+t).toString():"bool"===e?(0n!==BigInt("0x"+t)).toString():t;e.Transaction=class{constructor(t){t&&("blockHash"in t&&(this.blockHash=t.blockHash),"blockNumber"in t&&(this.blockNumber=t.blockNumber),"from"in t&&(this.from=t.from),"gas"in t&&(this.gas=t.gas),"gasPrice"in t&&(this.gasPrice=t.gasPrice),"input"in t&&(this.input=t.input.replace("0x","")),"to"in t&&(this.to=t.to),"value"in t&&(this.value=t.value))}setInput(t){this.input=t.replace("0x","")}getFunctionHash(){return!!(this.input&&this.input.length>=8)&&this.input.substr(0,8)}getFunction(t){const e=this.getFunctionHash();return!(!e||!(e in t))&&t[e]}getFunctionName(t){const e=this.getFunction(t);return!!e&&e.split("(")[0]}getRawArguments(){return this.input&&this.input.length>=70?this.input.substr(8).match(/.{1,64}/g):[]}getArguments(t,e=!0){const i=this.getFunction(t),n=this.getRawArguments();if(i&&this.input){const t=i.split("(")[1].slice(0,-1).split(",");if(1===t.length&&""===t[0]&&0===n.length)return[];{const e=[];for(let i=0;i<t.length;i++){const o=t[i]||"unknown",a=n[i];if("string"===o){const t=Number(BigInt("0x"+a)/32n),i=Number(2n*BigInt("0x"+n[t])),r=this.input.substring(8).substr(64*(t+1),i);e.push(s(r,o))}else e.push(s(a,o))}return e}}return n}isContractCreation(){return null===this.to}}},188:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=t=>"bigint"==typeof t?t.toString(16):t.wrapped?`(${t.toString()})`:t.toString()},21:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=(t,e)=>{const s=Object.keys(t).map((e=>t[e]));let i="";return e.forEach((t=>{const e=t.split("(")[0],n=t.replace(e,"").substring(1).slice(0,-1);i+="event ",n?(i+=e+"(",i+=n.split(",").map(((e,i)=>{const n=s.find((e=>e.label===t));return n&&i<n.indexedCount?e+" indexed _arg"+i:e+" _arg"+i})).join(", "),i+=");"):i+=t,i+="\n"})),e.length>0&&(i+="\n"),i}},797:(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=s(330);e.default=(t,e,s)=>{let n="";if(n+="function ",t in s){const e=s[t],i=e.split("(")[0],o=e.replace(i,"").substring(1).slice(0,-1);o?(n+=i+"(",n+=o.split(",").map(((t,e)=>t+" _arg"+e)).join(", "),n+=")"):n+=e}else n+=t+"()";return n+=" "+e.visibility,e.constant&&(n+=" view"),e.payable&&(n+=" payable"),e.returns.length>0&&(n+=" returns ("+e.returns.join(", ")+")"),n+=" {\n",n+=(0,i.stringifyInstructions)(e.items,4),n+="}\n\n",n}},330:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringifyInstructions=void 0,e.stringifyInstructions=function t(e,s=0){let i="";return e.forEach((e=>{if("JUMPI"===e.name&&e.false){const n=e.toString(),o=e.false.filter((t=>t.debugLevel>0));if(1===o.length&&"JUMPI"===o[0].name){i+=" ".repeat(s)+"if"+n+" {\n",i+=t(e.true,s+4),i+=" ".repeat(s)+"} else ";const o=t(e.false,s);o.trim().startsWith("if")?i+=o.trim()+"\n":(i+="{\n"+o.split("\n").filter((t=>t)).map((t=>" ".repeat(4)+t)).join("\n"),i+="\n"+" ".repeat(s)+"}\n")}else i+=" ".repeat(s)+"if"+n+" {\n",i+=t(e.true,s+4),i+=" ".repeat(s)+"} else {\n",i+=t(e.false,s+4),i+=" ".repeat(s)+"}\n"}else i+=" ".repeat(s)+e.toString()+"\n"})),i}},4:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const s=t=>{const e=[],i=[];let n=!1;return t.keys.filter((t=>t.length>0)).forEach((o=>{o.length>0&&o[0].type&&!e.includes(o[0].type)&&e.push(o[0].type),o.length>1&&!n?(n=!0,i.push(s({name:t.name,structs:t.structs,keys:t.keys.map((t=>(t.shift(),t))),values:t.values}))):1!==o.length||n||t.values.forEach((t=>{t.type&&!i.includes(t.type)&&i.push(t.type)}))})),0===e.length&&e.push("unknown"),t.structs.length>0&&0===i.length?i.push(t.name+"Struct"):0===i.length&&i.push("unknown"),"mapping ("+e.join("|")+" => "+i.join("|")+")"};e.default=t=>{let e="";return Object.keys(t).forEach(((i,n)=>{const o=t[i];o.name?e+=s(o)+" public "+o.name+";":e+=s(o)+" mapping"+(n+1)+";",e+="\n"})),Object.keys(t).length>0&&(e+="\n"),e}},615:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=t=>{let e="";return Object.keys(t).filter((e=>t[e].structs.length>0)).forEach(((s,i)=>{const n=t[s];e+="struct "+n.name+"Struct {\n",n.structs.forEach((t=>{e+="    "+t.toString()+";\n"})),e+="}\n\n"})),e}},449:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=t=>{let e="";return Object.keys(t).forEach(((s,i)=>{const n=t[s],o=n.types.map((t=>"function"==typeof t?t():t)).filter((t=>t));0===o.length&&o.push("unknown"),n.label?e+=[...new Set(o)].join("|")+" public "+n.label+";":(e+=[...new Set(o)].join("|")+" var"+(i+1).toString()+";",i++),e+="\n"})),Object.keys(t).length>0&&(e+="\n"),e}}},e={};return function s(i){var n=e[i];if(void 0!==n)return n.exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,s),o.exports}(341)})()));
//# sourceMappingURL=EVM.js.map