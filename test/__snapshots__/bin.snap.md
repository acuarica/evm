# ::bin

```out exit-with-a-zero-code-using---help
sevm <cmd> <contract>

CLI tool to analyze EVM bytecode

Commands:
  sevm metadata <contract>   Shows the Metadata of the contract[1]
  sevm abi <contract>        Shows the ABI of the contract[2]
  sevm selectors <contract>  Shows the function selectors of the contract[3]
  sevm dis <contract>        Disassemble the bytecode into Opcodes
  sevm cfg <contract>        Writes the cfg of the selected function in `dot` fo
                             rmat into standard output
  sevm sol <contract>        Decompile the contract into Solidity-like source
  sevm yul <contract>        Decompile the contract into Yul-like source[4]
  sevm config                Shows cache path used to store downloaded bytecode

Options:
  --version  Show version number                                       [boolean]
  --color    Displays with colors, use `--no-color` to deactivate colors
                                                       [boolean] [default: true]
  --patch    Patches the Contract public functions and events with signatures fr
             om https://openchain.xyz, use `--no-patch` to skip patching
                                                       [boolean] [default: true]
  --cache    Enables cache of contracts and ABIs fetched from remote networks an
             d https://openchain.xyz respectively, use `--no-cache` to skip catc
             hing                                      [boolean] [default: true]
  --rpc-url  JSON-RPC network provider URL. Alternatively, set the env variable
             `SEVM_RPC_URL` (the flag takes precedence over the env variable)
                               [string] [default: "https://cloudflare-eth.com/"]
  --help     Show help                                                 [boolean]

Examples:
  sevm abi 0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e
  sevm sol 0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e
  sevm sol --no-patch 0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e
  echo 0x600160020160005500 | sevm yul -    Use `-` to read bytecode from stdin

[1] See https://docs.soliditylang.org/en/latest/metadata.html for more informati
on regarding Metadata generated by the Solidity compiler.
[2] See https://docs.soliditylang.org/en/latest/abi-spec.html#abi-json for more
information regarding the ABI specification.
[3] See https://docs.soliditylang.org/en/latest/abi-spec.html#function-selector
for more information regarding Function Selectors
[4] See https://docs.soliditylang.org/en/latest/yul.html for more information re
garding Yul.

```

```err exit-with-non-zero-code-on-unknown-flag
sevm <cmd> <contract>

CLI tool to analyze EVM bytecode

Commands:
  sevm metadata <contract>   Shows the Metadata of the contract[1]
  sevm abi <contract>        Shows the ABI of the contract[2]
  sevm selectors <contract>  Shows the function selectors of the contract[3]
  sevm dis <contract>        Disassemble the bytecode into Opcodes
  sevm cfg <contract>        Writes the cfg of the selected function in `dot` fo
                             rmat into standard output
  sevm sol <contract>        Decompile the contract into Solidity-like source
  sevm yul <contract>        Decompile the contract into Yul-like source[4]
  sevm config                Shows cache path used to store downloaded bytecode

Options:
  --version  Show version number                                       [boolean]
  --color    Displays with colors, use `--no-color` to deactivate colors
                                                       [boolean] [default: true]
  --patch    Patches the Contract public functions and events with signatures fr
             om https://openchain.xyz, use `--no-patch` to skip patching
                                                       [boolean] [default: true]
  --cache    Enables cache of contracts and ABIs fetched from remote networks an
             d https://openchain.xyz respectively, use `--no-cache` to skip catc
             hing                                      [boolean] [default: true]
  --rpc-url  JSON-RPC network provider URL. Alternatively, set the env variable
             `SEVM_RPC_URL` (the flag takes precedence over the env variable)
                               [string] [default: "https://cloudflare-eth.com/"]
  --help     Show help                                                 [boolean]

Examples:
  sevm abi 0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e
  sevm sol 0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e
  sevm sol --no-patch 0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e
  echo 0x600160020160005500 | sevm yul -    Use `-` to read bytecode from stdin

[1] See https://docs.soliditylang.org/en/latest/metadata.html for more informati
on regarding Metadata generated by the Solidity compiler.
[2] See https://docs.soliditylang.org/en/latest/abi-spec.html#abi-json for more
information regarding the ABI specification.
[3] See https://docs.soliditylang.org/en/latest/abi-spec.html#function-selector
for more information regarding Function Selectors
[4] See https://docs.soliditylang.org/en/latest/yul.html for more information re
garding Yul.

At least one command must be specified

```

```err exit-with-non-zero-code-on-unknown-command
sevm <cmd> <contract>

CLI tool to analyze EVM bytecode

Commands:
  sevm metadata <contract>   Shows the Metadata of the contract[1]
  sevm abi <contract>        Shows the ABI of the contract[2]
  sevm selectors <contract>  Shows the function selectors of the contract[3]
  sevm dis <contract>        Disassemble the bytecode into Opcodes
  sevm cfg <contract>        Writes the cfg of the selected function in `dot` fo
                             rmat into standard output
  sevm sol <contract>        Decompile the contract into Solidity-like source
  sevm yul <contract>        Decompile the contract into Yul-like source[4]
  sevm config                Shows cache path used to store downloaded bytecode

Options:
  --version  Show version number                                       [boolean]
  --color    Displays with colors, use `--no-color` to deactivate colors
                                                       [boolean] [default: true]
  --patch    Patches the Contract public functions and events with signatures fr
             om https://openchain.xyz, use `--no-patch` to skip patching
                                                       [boolean] [default: true]
  --cache    Enables cache of contracts and ABIs fetched from remote networks an
             d https://openchain.xyz respectively, use `--no-cache` to skip catc
             hing                                      [boolean] [default: true]
  --rpc-url  JSON-RPC network provider URL. Alternatively, set the env variable
             `SEVM_RPC_URL` (the flag takes precedence over the env variable)
                               [string] [default: "https://cloudflare-eth.com/"]
  --help     Show help                                                 [boolean]

Examples:
  sevm abi 0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e
  sevm sol 0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e
  sevm sol --no-patch 0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e
  echo 0x600160020160005500 | sevm yul -    Use `-` to read bytecode from stdin

[1] See https://docs.soliditylang.org/en/latest/metadata.html for more informati
on regarding Metadata generated by the Solidity compiler.
[2] See https://docs.soliditylang.org/en/latest/abi-spec.html#abi-json for more
information regarding the ABI specification.
[3] See https://docs.soliditylang.org/en/latest/abi-spec.html#function-selector
for more information regarding Function Selectors
[4] See https://docs.soliditylang.org/en/latest/yul.html for more information re
garding Yul.

Unknown argument: unknowncommand

```

```out display-metadata-from-JSON-bytecode
Contract Metadata
protocol ipfs
hash QmQaEuFFsAwGbKd51LPcsLkKD5NwsB8aAzg7KkRsjuhjf2
solc 0.8.21
url ipfs://QmQaEuFFsAwGbKd51LPcsLkKD5NwsB8aAzg7KkRsjuhjf2

```

```out display-no-metadata-from-bytecode
Contract Metadata
No metadata

```

```out display-abi-from-bytecode
Function Selectors
  0x6d4ce63c <signature not found>

Events

```

```out display-selectors-from-bytecode
0x6d4ce63c <no signature>

```

```out run-dis-command-and-find-non-reacheable-chunk
   pc  opcode  push data (PUSHx)
0 : 
    0  PUSH1   0x01 
    2  PUSH1   0x02 
    4  ADD   
    5  PUSH1   0x0c 
    7  JUMP   
8 : unreachable
01020304
12 : 
   12  JUMPDEST   
   13  PUSH3   0xfffefd 
17 : 
   17  JUMPDEST   
   18  STOP   

```

```out display-cfg-from-bytecode
digraph G {    
    color="#efefef";
    #rankdir = LR;
    #graph[fontsize=6];

    node[shape=box style=filled fontsize=12 fontname="Verdana" fillcolor="#efefef"];
    
subgraph cluster_0 {
  style=filled;
  label = "pc 0\l";
"id-0" [label="key:0 id-0\l=| msg.value\l64: 0x80\lmemory[0x40] = 0x80;\lundefined local0 = msg.value; // #refs 0\lwhen msg.value == 0 goto 15 or fall 11\l" fillcolor="#ffa500"];
}

subgraph cluster_11 {
  style=filled;
  label = "pc 11\l";
"id-1" [label="key:11 id-1\l=| msg.value\l64: 0x80\lundefined local1 = 0x0; // #refs 0\lrevert();\l" fillcolor="#ffa500"];
}

subgraph cluster_15 {
  style=filled;
  label = "pc 15\l";
"id-2" [label="key:15 id-2\l\l64: 0x80\lwhen msg.data.length < 0x4 goto 40 or fall 24\l" fillcolor="#ffa500"];
}

subgraph cluster_24 {
  style=filled;
  label = "pc 24\l";
"id-3" [label="key:24 id-3\l=| msg.data >>> 0xe0\l64: 0x80\lundefined local1 = msg.data >>> 0xe0; // #refs 0\lcase when msg.sig == 6d4ce63c goto [J]0x2d or fall 40\l" fillcolor="#ffa500"];
}

subgraph cluster_40 {
  style=filled;
  label = "pc 40\l";
"id-4" [label="key:40 id-4\l=| msg.data >>> 0xe0\l64: 0x80\lundefined local2 = 0x0; // #refs 0\lrevert();\l" fillcolor="#ffa500"];
"id-5" [label="key:40 id-5\l\l64: 0x80\lundefined local1 = 0x0; // #refs 0\lrevert();\l" fillcolor="#ffa500"];
}

subgraph cluster_45 {
  style=filled;
  label = "pc 45\l";
"id-6" [label="key:45 id-6\l=| 0x33=| msg.data >>> 0xe0\l64: 0x80\lgoto :[J]0x49 branch:73\l" fillcolor="#ffa500"];
}

subgraph cluster_73 {
  style=filled;
  label = "pc 73\l";
"id-7" [label="key:73 id-7\l=| 0x5=| msg.data >>> 0xe0\l64: 0x80\lgoto :[J]0x33 branch:51\l" fillcolor="#ffa500"];
}

subgraph cluster_51 {
  style=filled;
  label = "pc 51\l";
"id-8" [label="key:51 id-8\l=| msg.data >>> 0xe0\l64: 0x80\l128: 0x5\lundefined local2 = memory[0x40]; // #refs 0\lundefined local3 = 0x5; // #refs -1\lmemory[memory[0x40]] = 0x5;\lundefined local4 = memory[0x40]; // #refs 0\lreturn 0x5;\l" fillcolor="#ffa500"];
}

"id-0" -> "id-2";
"id-0" -> "id-1";
"id-2" -> "id-5";
"id-2" -> "id-3";
"id-3" -> "id-4";
"id-6" -> "id-7";
"id-7" -> "id-8";

}

```

```err catch-error-when-input-is-not-a-valid-hex-string
Error: Unable to decode, invalid hex byte 'ax' found at position '7'

```

```err log-debug-trace-when-NODE_DEBUG=sevm-is-set
SEVM <pid>: ENOENT: no such file or directory, open <addr>
SEVM <pid>: ENOENT: no such file or directory, open <addr>
SEVM <pid>: Invalid address, bad address checksum
Cannot find bytecode for contract 0x8Ba1f109551bD432803012645Ac136ddd64DBa72

```

```err fail-to-fetch-to-bytecode-because-of-invalid-Ethereum-address
SEVM <pid>: ENOENT: no such file or directory, open <addr>
SEVM <pid>: ENOENT: no such file or directory, open <addr>
SEVM <pid>: Invalid address, not an Ethereum address
Cannot find bytecode for contract 0x8ba1

```

```err catch-error-when-exec-self-destructed-contract
Bytecode for contract - is '0x', it might have been self-destructed or it is an EOA

```

```out bin/provider-ENABLE_BIN_PROVIDER_TEST=1/get-bytecode-from-default-provider
Function Selectors
  0x22895118 <signature not found>
  0x01ffc9a7 <signature not found>
  0x621fd130 <signature not found>
  0xc5f2892f <signature not found>

Events
  0x649bbc62d0e31342afea4e5cd82d4049e7e1ee912fc0889aa790803be39038c5 <signature not found>

```

```err bin/provider-ENABLE_BIN_PROVIDER_TEST=1/get-bytecode-from-default-provider
SEVM <pid>: ENOENT: no such file or directory, open <addr>
SEVM <pid>: Cache to fetch contract bytecode disabled
SEVM <pid>: Contract bytecode fetched from remote network

```

```out bin/provider-ENABLE_BIN_PROVIDER_TEST=1/get-bytecode-from-default-provider-and-patch-method-signatures
Function Selectors
  0x22895118 deposit(bytes,bytes,bytes,bytes32)
  0x01ffc9a7 supportsInterface(bytes4)
  0x621fd130 get_deposit_count()
  0xc5f2892f get_deposit_root()

Events
  0x649bbc62d0e31342afea4e5cd82d4049e7e1ee912fc0889aa790803be39038c5 DepositEvent(bytes,bytes,bytes,bytes,bytes)

```

```err bin/provider-ENABLE_BIN_PROVIDER_TEST=1/get-bytecode-from-default-provider-and-patch-method-signatures
SEVM <pid>: ENOENT: no such file or directory, open <addr>
SEVM <pid>: Cache to fetch contract bytecode disabled
SEVM <pid>: Contract bytecode fetched from remote network
SEVM <pid>: Bytecode keccak256 hash 0x6c029a231254fadb724d
SEVM <pid>: Cache ABI disabled

```

```out display-sol-from-bytecode
// SPDX-License-Identifier: UNLICENSED
contract Contract {

    function() external payable {
        require(msg.value == 0);
        if ((msg.data.length < 0x4) == 0) {
            if (msg.sig == 6d4ce63c) {
                $6d4ce63c();
            } else {
                revert();
            }
        }
        revert();
    }

    function 6d4ce63c(/*no signature*/) public returns (uint256) {
        return 0x5;
    }

}


```

```out display-yul-from-bytecode
object "runtime" {
    code {
        mstore(0x40, 0x80)
        let local0 := callvalue() // #refs 0
        require(iszero(local0))
        if (iszero(lt(calldatasize(), 0x4))) {
            let local1 := shr(calldataload(0x0), 0xe0) // #refs 0
            if (eq(msg.sig, 6d4ce63c)) {
                $6d4ce63c();
            } else {
                let local2 := 0x0 // #refs 0
                revert(local2, local2)
            }
        }
        let local1 := 0x0 // #refs 0
        revert(local1, local1)

        function __$6d4ce63c(/*unknown*/) { // public
            let local2 := mload(0x40) // #refs 0
            let local3 := 0x5 // #refs -1
            mstore(local2/*=0x80*/, local3)
            let local4 := mload(0x40) // #refs 0
            return(local4, sub(add(0x20, local2), local4)) // 0x5
        }

    }
}


```

```out display-sol---reduce-from-bytecode
// SPDX-License-Identifier: UNLICENSED
contract Contract {

    function() external payable {
        require(msg.value == 0);
        if (msg.data.length >= 0x4) {
            if (msg.sig == 6d4ce63c) {
                $6d4ce63c();
            } else {
                revert();
            }
        }
        revert();
    }

    function 6d4ce63c(/*no signature*/) public view returns (uint256) {
        return 0x5;
    }

}


```

```out display-yul---reduce-from-bytecode
object "runtime" {
    code {
        require(iszero(callvalue()))
        if (gt(calldatasize(), 0x4)) {
            if (eq(msg.sig, 6d4ce63c)) {
                $6d4ce63c();
            } else {
                revert(0x0, 0x0)
            }
        }
        revert(0x0, 0x0)

        function __$6d4ce63c(/*unknown*/) { // public view
            return(0x80, 0x20) // 0x5
        }

    }
}


```
